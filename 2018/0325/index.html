<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.113.0">
    <meta name="description" content="">


    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Technical indicators :: compulsory thinking</title>

    
    <link href="/css/nucleus.css?1755000526" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1755000526" rel="stylesheet">
    <link href="/css/hybrid.css?1755000526" rel="stylesheet">
    <link href="/css/featherlight.min.css?1755000526" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1755000526" rel="stylesheet">
    <link href="/css/auto-complete.css?1755000526" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1755000526" rel="stylesheet">
    <link href="/css/theme.css?1755000526" rel="stylesheet">
    <link href="/css/tabs.css?1755000526" rel="stylesheet">
    <link href="/css/hugo-theme.css?1755000526" rel="stylesheet">
    
    <link href="/css/theme-blue.css?1755000526" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1755000526"></script>
      
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SXHZPRXGDZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-SXHZPRXGDZ');
    </script>
    <script>
    if (location.host.indexOf("localhost") < 0 && location.protocol !== "https:") {
      location.protocol = "https:";
    }
    </script>
    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/2018/0325/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href='/'>
  עֹז
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1755000526"></script>
<script type="text/javascript" src="/js/auto-complete.js?1755000526"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/opssec.in\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1755000526"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/2025/" title="2025" class="dd-item
        
        
        
        ">
      <a href="/2025/">
          2025
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/2025/0812/" title="Embracing Vibe Ops: AI-Driven Troubleshooting for ClusterAPI" class="dd-item
        
        
        
        ">
      <a href="/2025/0812/">
          Embracing Vibe Ops: AI-Driven Troubleshooting for ClusterAPI
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2024/" title="2024" class="dd-item
        
        
        
        ">
      <a href="/2024/">
          2024
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/2024/0201/" title="Kubernetes vSphere CSI on Windows" class="dd-item
        
        
        
        ">
      <a href="/2024/0201/">
          Kubernetes vSphere CSI on Windows
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2024/0104/" title="Kubernetes Windows Nodes" class="dd-item
        
        
        
        ">
      <a href="/2024/0104/">
          Kubernetes Windows Nodes
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2023/" title="2023" class="dd-item
        
        
        
        ">
      <a href="/2023/">
          2023
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/2023/1230/" title="Running Windows cluster locally" class="dd-item
        
        
        
        ">
      <a href="/2023/1230/">
          Running Windows cluster locally
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0801/" title="sigstore policy-controller validation" class="dd-item
        
        
        
        ">
      <a href="/2023/0801/">
          sigstore policy-controller validation
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0721/" title="Ztunnel SPIRE implementation" class="dd-item
        
        
        
        ">
      <a href="/2023/0721/">
          Ztunnel SPIRE implementation
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0702/" title="Waypoint Proxy for the app layer" class="dd-item
        
        
        
        ">
      <a href="/2023/0702/">
          Waypoint Proxy for the app layer
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0630/" title="Ztunnel on Ambient Mesh" class="dd-item
        
        
        
        ">
      <a href="/2023/0630/">
          Ztunnel on Ambient Mesh
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0628/" title="Istio CNI on Ambient Mesh" class="dd-item
        
        
        
        ">
      <a href="/2023/0628/">
          Istio CNI on Ambient Mesh
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0622/" title="Istio Ambient Service Mesh Demo" class="dd-item
        
        
        
        ">
      <a href="/2023/0622/">
          Istio Ambient Service Mesh Demo
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0611/" title="SPIFFE/SPIRE for gRPC authz" class="dd-item
        
        
        
        ">
      <a href="/2023/0611/">
          SPIFFE/SPIRE for gRPC authz
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0608/" title="Secure gRPC services with mTLS" class="dd-item
        
        
        
        ">
      <a href="/2023/0608/">
          Secure gRPC services with mTLS
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0406/" title="Windows CNI tracing and deep dive" class="dd-item
        
        
        
        ">
      <a href="/2023/0406/">
          Windows CNI tracing and deep dive
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0330/" title="Windows Containers and .NET apps" class="dd-item
        
        
        
        ">
      <a href="/2023/0330/">
          Windows Containers and .NET apps
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0322/" title="Multi AZ on Kubernetes and vSphere" class="dd-item
        
        
        
        ">
      <a href="/2023/0322/">
          Multi AZ on Kubernetes and vSphere
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2022/" title="2022" class="dd-item
        
        
        
        ">
      <a href="/2022/">
          2022
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/2022/0712/" title="Hybrid nodes with ClusterClass on Amazon Web Service" class="dd-item
        
        
        
        ">
      <a href="/2022/0712/">
          Hybrid nodes with ClusterClass on Amazon Web Service
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2022/0610/" title="Border Gateway Protocol (BGP) and Kubernetes" class="dd-item
        
        
        
        ">
      <a href="/2022/0610/">
          Border Gateway Protocol (BGP) and Kubernetes
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2022/0320/" title="Cluster API Provider for Azure" class="dd-item
        
        
        
        ">
      <a href="/2022/0320/">
          Cluster API Provider for Azure
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2022/0122/" title="Kube-Proxy Next Gen Windows Userspace" class="dd-item
        
        
        
        ">
      <a href="/2022/0122/">
          Kube-Proxy Next Gen Windows Userspace
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2021/" title="2021" class="dd-item
        
        
        
        ">
      <a href="/2021/">
          2021
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/2021/1218/" title="Kube-proxy Windows Kernelspace Mode" class="dd-item
        
        
        
        ">
      <a href="/2021/1218/">
          Kube-proxy Windows Kernelspace Mode
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/1127/" title="Kube-proxy Linux Userspace Mode" class="dd-item
        
        
        
        ">
      <a href="/2021/1127/">
          Kube-proxy Linux Userspace Mode
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/1017/" title="Kube-proxy Winuserspace Mode" class="dd-item
        
        
        
        ">
      <a href="/2021/1017/">
          Kube-proxy Winuserspace Mode
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/0903/" title="Windows and Calico overlay networking" class="dd-item
        
        
        
        ">
      <a href="/2021/0903/">
          Windows and Calico overlay networking
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/0828/" title="CNI plugins and kindnet" class="dd-item
        
        
        
        ">
      <a href="/2021/0828/">
          CNI plugins and kindnet
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/0614/" title="Kube-proxy ClusterIP" class="dd-item
        
        
        
        ">
      <a href="/2021/0614/">
          Kube-proxy ClusterIP
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/0228/" title="Kubernetes Windows Nodes" class="dd-item
        
        
        
        ">
      <a href="/2021/0228/">
          Kubernetes Windows Nodes
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2020/" title="2020" class="dd-item
        
        
        
        ">
      <a href="/2020/">
          2020
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2020/1227/" title="Network Policy E2E test suite" class="dd-item ">
        <a href="/2020/1227/">
        Network Policy E2E test suite
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2020/2405/" title="Kubelet Dynamic Configuration" class="dd-item ">
        <a href="/2020/2405/">
        Kubelet Dynamic Configuration
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2020/1005/" title="Kubelet Debugging Session" class="dd-item ">
        <a href="/2020/1005/">
        Kubelet Debugging Session
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2019/" title="2019" class="dd-item
        
        
        
        ">
      <a href="/2019/">
          2019
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2019/1228/" title="Kubernetes Networking 101" class="dd-item ">
        <a href="/2019/1228/">
        Kubernetes Networking 101
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/12282/" title="Kubernetes Deployment Workloads" class="dd-item ">
        <a href="/2019/12282/">
        Kubernetes Deployment Workloads
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/12283/" title="Kubernetes Container API" class="dd-item ">
        <a href="/2019/12283/">
        Kubernetes Container API
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1227/" title="Pod specification" class="dd-item ">
        <a href="/2019/1227/">
        Pod specification
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1226/" title="Kubectl Walkthrough" class="dd-item ">
        <a href="/2019/1226/">
        Kubectl Walkthrough
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1225/" title="Kubernetes in Docker" class="dd-item ">
        <a href="/2019/1225/">
        Kubernetes in Docker
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1215/" title="Sawtooth Cheatsheet" class="dd-item ">
        <a href="/2019/1215/">
        Sawtooth Cheatsheet
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1208/" title="Sawtooth Permissioning" class="dd-item ">
        <a href="/2019/1208/">
        Sawtooth Permissioning
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1127/" title="Kubernetes Audit Sink" class="dd-item ">
        <a href="/2019/1127/">
        Kubernetes Audit Sink
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1123/" title="Kubernetes API client" class="dd-item ">
        <a href="/2019/1123/">
        Kubernetes API client
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/11161/dev-poet/" title="From Dev to PoET" class="dd-item ">
        <a href="/2019/11161/dev-poet/">
        From Dev to PoET
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1116/" title="Sawtooth Network Monitoring" class="dd-item ">
        <a href="/2019/1116/">
        Sawtooth Network Monitoring
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1111/" title="Gossip networks" class="dd-item ">
        <a href="/2019/1111/">
        Gossip networks
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2018/" title="2018" class="dd-item
        parent
        
        
        ">
      <a href="/2018/">
          2018
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2018/08072/" title="Golang essays (part II)" class="dd-item ">
        <a href="/2018/08072/">
        Golang essays (part II)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0807/" title="Golang essays (part I)" class="dd-item ">
        <a href="/2018/0807/">
        Golang essays (part I)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0704/langs2/" title="Rust 101" class="dd-item ">
        <a href="/2018/0704/langs2/">
        Rust 101
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0602/sawtooth/" title="Hyperledger Sawtooth" class="dd-item ">
        <a href="/2018/0602/sawtooth/">
        Hyperledger Sawtooth
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0527/langs1/" title="Bootstraping languages" class="dd-item ">
        <a href="/2018/0527/langs1/">
        Bootstraping languages
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0806/" title="Service Mesh" class="dd-item ">
        <a href="/2018/0806/">
        Service Mesh
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0325/" title="Technical indicators" class="dd-item active">
        <a href="/2018/0325/">
        Technical indicators
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2017/" title="2017" class="dd-item
        
        
        
        ">
      <a href="/2017/">
          2017
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2017/1012/" title="More statistics and Python" class="dd-item ">
        <a href="/2017/1012/">
        More statistics and Python
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2017/0701/" title="Probability" class="dd-item ">
        <a href="/2017/0701/">
        Probability
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2017/0625/" title="Statistics and Python" class="dd-item ">
        <a href="/2017/0625/">
        Statistics and Python
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2016/" title="2016" class="dd-item
        
        
        
        ">
      <a href="/2016/">
          2016
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2016/1216/apk/" title="Android APK hacking" class="dd-item ">
        <a href="/2016/1216/apk/">
        Android APK hacking
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2016/1127/" title="Continuous Deployment and DEIS" class="dd-item ">
        <a href="/2016/1127/">
        Continuous Deployment and DEIS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2016/0618/ecto/" title="Ecto vs. Django ORM" class="dd-item ">
        <a href="/2016/0618/ecto/">
        Ecto vs. Django ORM
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2016/0416/cpython/" title="CPython Debugging" class="dd-item ">
        <a href="/2016/0416/cpython/">
        CPython Debugging
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2016/0123/" title="Golang vs. Python" class="dd-item ">
        <a href="/2016/0123/">
        Golang vs. Python
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2016/0116/" title="Monitoring MySQL w/ Prometheus" class="dd-item ">
        <a href="/2016/0116/">
        Monitoring MySQL w/ Prometheus
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2015/" title="2015" class="dd-item
        
        
        
        ">
      <a href="/2015/">
          2015
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2015/0309/consul/" title="Consul - Service Discovery" class="dd-item ">
        <a href="/2015/0309/consul/">
        Consul - Service Discovery
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2015/0908/finance/" title="General finance formulas" class="dd-item ">
        <a href="/2015/0908/finance/">
        General finance formulas
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2015/2607/" title="Tsung Capacity Test" class="dd-item ">
        <a href="/2015/2607/">
        Tsung Capacity Test
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <center>
  <p><b>Amim Knabben</b> - 2024</p>
    amim.knabben@gmail.com
  <br/>
  <a href="https://github.com/knabben"><i class="fab fa-github"></i></a>
  <a href="https://twitter.com/ak_ndb"><i class="fab fa-twitter"></i></a>
  <a href="https://linkedin.com/in/amim"><i class="fab fa-linkedin"></i></a>
  <br />
  <br />

  <a href="https://md.opssec.in">win32 API </i></a>

</center>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'></a> > <a href='/2018/'>2018</a> > Technical indicators
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li><a href="#headline-1">Introduction</a>
</li>
<li><a href="#headline-2">Moving average</a>
</li>
<li><a href="#headline-3">Simple Moving Average</a>
</li>
<li><a href="#headline-4">Exponentially Weighted Moving Average</a>
</li>
<li><a href="#headline-5">Bollinger Bands </a>
</li>
<li><a href="#headline-6">Basic strategy</a>
</li>
<li><a href="#headline-7">Keltner channels and EWM</a>
</li>
<li><a href="#headline-8">Reference</a>
<ul>
<li><a href="#headline-9">[1] Clif Droke, Moving Averages Simplified</a>
</li>
<li><a href="#headline-10">[2] Lemos, Flavio. Análise Técnica dos Mercados Financeiros</a>
</li>
</ul>
</li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Technical indicators
            </h1>
          

        



<div id="outline-container-headline-1" class="outline-3">
<h3 id="headline-1">
Introduction
</h3>
<div id="outline-text-headline-1" class="outline-text-3">
<p>
According to investopedia - are mathematical calculations based on the price, volume, or open interest of a security or contract. So by analyzing historical data, technical analysts use indicators to predict the future price movements.</p>
<p>
The idea of this post is to show up how to calculate the most common one using the so famous SciPy stack, this is far from being an advising in this field, but a playground and notes about the research.</p>
<p>
The data is extracted from Yahoo finance, for this following example we are going to use Bovespa ABEV3.</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">%</span>matplotlib inline
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> seaborn <span style="color:#66d9ef">as</span> sns
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>set()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>data <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;ABEV3.SA.csv&#39;</span>)<span style="color:#f92672">.</span>dropna()
</span></span><span style="display:flex;"><span>data <span style="color:#f92672">=</span> data<span style="color:#f92672">.</span>set_index(data[<span style="color:#e6db74">&#39;Date&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x: datetime<span style="color:#f92672">.</span>datetime<span style="color:#f92672">.</span>strptime(x, <span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#39;</span>)), drop<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>data[<span style="color:#e6db74">&#39;Close&#39;</span>]<span style="color:#f92672">.</span>describe()
</span></span><span style="display:flex;"><span>data[<span style="color:#e6db74">&#39;Close&#39;</span>]<span style="color:#f92672">.</span>plot()</span></span></code></pre></div></p>
<p>
<img src="price.png" alt="price.png" title="price.png" /></p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-3">
<h3 id="headline-2">
Moving average
</h3>
<div id="outline-text-headline-2" class="outline-text-3">
<p>
In the context of stock it can be used as a late trend indicator, basically shows the average value of a security&#39;s price over a period of time. When calculating a moving average, a mathematical analysis of the security&#39;s average value over a predetermined time period is made.</p>
</div>
</div>
<div id="outline-container-headline-3" class="outline-3">
<h3 id="headline-3">
Simple Moving Average
</h3>
<div id="outline-text-headline-3" class="outline-text-3">
<p>
For this one the average moves and changes each day as the oldest value is dropped out of the calculation and new day&#39;s value added in.
Lets add 2, 3 and 5 days average for a 10 samples.</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>rolling <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;stock_px_2.csv&#39;</span>, parse_dates<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, index_col<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>test_data <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>iloc[:<span style="color:#ae81ff">10</span>][ [<span style="color:#e6db74">&#39;AAPL&#39;</span>] ]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>test_data[<span style="color:#e6db74">&#39;AAPL_SMA2&#39;</span>] <span style="color:#f92672">=</span> test_data[<span style="color:#e6db74">&#39;AAPL&#39;</span>]<span style="color:#f92672">.</span>rolling(<span style="color:#ae81ff">2</span>)<span style="color:#f92672">.</span>mean()
</span></span><span style="display:flex;"><span>test_data[<span style="color:#e6db74">&#39;AAPL_SMA3&#39;</span>] <span style="color:#f92672">=</span> test_data[<span style="color:#e6db74">&#39;AAPL&#39;</span>]<span style="color:#f92672">.</span>rolling(<span style="color:#ae81ff">3</span>)<span style="color:#f92672">.</span>mean()
</span></span><span style="display:flex;"><span>test_data[<span style="color:#e6db74">&#39;AAPL_SMA5&#39;</span>] <span style="color:#f92672">=</span> test_data[<span style="color:#e6db74">&#39;AAPL&#39;</span>]<span style="color:#f92672">.</span>rolling(<span style="color:#ae81ff">5</span>)<span style="color:#f92672">.</span>mean()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            AAPL  AAPL_SMA2  AAPL_SMA3  AAPL_SMA5  AAPL_EWM1
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">7.40</span>        NaN        NaN        NaN   <span style="color:#ae81ff">7.400000</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>  <span style="color:#ae81ff">7.45</span>      <span style="color:#ae81ff">7.425</span>        NaN        NaN   <span style="color:#ae81ff">7.430000</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>  <span style="color:#ae81ff">7.45</span>      <span style="color:#ae81ff">7.450</span>   <span style="color:#ae81ff">7.433333</span>        NaN   <span style="color:#ae81ff">7.439474</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">07</span>  <span style="color:#ae81ff">7.43</span>      <span style="color:#ae81ff">7.440</span>   <span style="color:#ae81ff">7.443333</span>        NaN   <span style="color:#ae81ff">7.435538</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">08</span>  <span style="color:#ae81ff">7.28</span>      <span style="color:#ae81ff">7.355</span>   <span style="color:#ae81ff">7.386667</span>      <span style="color:#ae81ff">7.402</span>   <span style="color:#ae81ff">7.375829</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span>  <span style="color:#ae81ff">7.34</span>      <span style="color:#ae81ff">7.310</span>   <span style="color:#ae81ff">7.350000</span>      <span style="color:#ae81ff">7.390</span>   <span style="color:#ae81ff">7.362737</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>  <span style="color:#ae81ff">7.36</span>      <span style="color:#ae81ff">7.350</span>   <span style="color:#ae81ff">7.326667</span>      <span style="color:#ae81ff">7.372</span>   <span style="color:#ae81ff">7.361768</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">13</span>  <span style="color:#ae81ff">7.32</span>      <span style="color:#ae81ff">7.340</span>   <span style="color:#ae81ff">7.340000</span>      <span style="color:#ae81ff">7.346</span>   <span style="color:#ae81ff">7.347280</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">14</span>  <span style="color:#ae81ff">7.30</span>      <span style="color:#ae81ff">7.310</span>   <span style="color:#ae81ff">7.326667</span>      <span style="color:#ae81ff">7.320</span>   <span style="color:#ae81ff">7.331099</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">15</span>  <span style="color:#ae81ff">7.22</span>      <span style="color:#ae81ff">7.260</span>   <span style="color:#ae81ff">7.280000</span>      <span style="color:#ae81ff">7.308</span>   <span style="color:#ae81ff">7.293412</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Backtest for the 5 days moving average</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">0</span>, rolling <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>    data <span style="color:#f92672">=</span> test_data[<span style="color:#e6db74">&#39;AAPL&#39;</span>]<span style="color:#f92672">.</span>iloc[n <span style="color:#f92672">+</span> <span style="color:#ae81ff">0</span>:n <span style="color:#f92672">+</span> <span style="color:#ae81ff">5</span>]
</span></span><span style="display:flex;"><span>    print(data, data<span style="color:#f92672">.</span>mean())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>    <span style="color:#ae81ff">7.40</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>    <span style="color:#ae81ff">7.45</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>    <span style="color:#ae81ff">7.45</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">07</span>    <span style="color:#ae81ff">7.43</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">08</span>    <span style="color:#ae81ff">7.28</span>
</span></span><span style="display:flex;"><span>    Name: AAPL, dtype: float64 <span style="color:#ae81ff">7.401999999999999</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>    <span style="color:#ae81ff">7.45</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>    <span style="color:#ae81ff">7.45</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">07</span>    <span style="color:#ae81ff">7.43</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">08</span>    <span style="color:#ae81ff">7.28</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span>    <span style="color:#ae81ff">7.34</span>
</span></span><span style="display:flex;"><span>    Name: AAPL, dtype: float64 <span style="color:#ae81ff">7.390000000000001</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>    <span style="color:#ae81ff">7.45</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">07</span>    <span style="color:#ae81ff">7.43</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">08</span>    <span style="color:#ae81ff">7.28</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span>    <span style="color:#ae81ff">7.34</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>    <span style="color:#ae81ff">7.36</span>
</span></span><span style="display:flex;"><span>    Name: AAPL, dtype: float64 <span style="color:#ae81ff">7.372</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">07</span>    <span style="color:#ae81ff">7.43</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">08</span>    <span style="color:#ae81ff">7.28</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span>    <span style="color:#ae81ff">7.34</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>    <span style="color:#ae81ff">7.36</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">13</span>    <span style="color:#ae81ff">7.32</span>
</span></span><span style="display:flex;"><span>    Name: AAPL, dtype: float64 <span style="color:#ae81ff">7.346000000000001</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">08</span>    <span style="color:#ae81ff">7.28</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span>    <span style="color:#ae81ff">7.34</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>    <span style="color:#ae81ff">7.36</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">13</span>    <span style="color:#ae81ff">7.32</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">14</span>    <span style="color:#ae81ff">7.30</span>
</span></span><span style="display:flex;"><span>    Name: AAPL, dtype: float64 <span style="color:#ae81ff">7.32</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span>    <span style="color:#ae81ff">7.34</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>    <span style="color:#ae81ff">7.36</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">13</span>    <span style="color:#ae81ff">7.32</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">14</span>    <span style="color:#ae81ff">7.30</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">15</span>    <span style="color:#ae81ff">7.22</span>
</span></span><span style="display:flex;"><span>    Name: AAPL, dtype: float64 <span style="color:#ae81ff">7.308</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>test_data<span style="color:#f92672">.</span>plot(color<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;#F00000&#39;</span>, <span style="color:#e6db74">&#39;#0000FF&#39;</span>, <span style="color:#e6db74">&#39;#0000FF&#39;</span>, <span style="color:#e6db74">&#39;#0000FF&#39;</span>])</span></span></code></pre></div></p>
<p>
<img src="moving.png" alt="moving.png" title="moving.png" /></p>
</div>
</div>
<div id="outline-container-headline-4" class="outline-3">
<h3 id="headline-4">
Exponentially Weighted Moving Average
</h3>
<div id="outline-text-headline-4" class="outline-text-3">
<p>
This moving average has the advantage of giving the most weight to the most current value. Here you need to specify a decay factor the give weight to more recent observations. The exponent is calculated with Exp = 2/Period + 1, for this case we have Exp = 2/5+1 = 0.34</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>test_data[<span style="color:#e6db74">&#39;AAPL_EWM1&#39;</span>] <span style="color:#f92672">=</span> test_data[<span style="color:#e6db74">&#39;AAPL&#39;</span>]<span style="color:#f92672">.</span>ewm(span<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>)<span style="color:#f92672">.</span>mean()
</span></span><span style="display:flex;"><span>print(test_data[[<span style="color:#e6db74">&#39;AAPL&#39;</span>,<span style="color:#e6db74">&#39;AAPL_EWM1&#39;</span>]])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                AAPL  AAPL_EWM1
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">7.40</span>   <span style="color:#ae81ff">7.400000</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>  <span style="color:#ae81ff">7.45</span>   <span style="color:#ae81ff">7.430000</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>  <span style="color:#ae81ff">7.45</span>   <span style="color:#ae81ff">7.439474</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">07</span>  <span style="color:#ae81ff">7.43</span>   <span style="color:#ae81ff">7.435538</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">08</span>  <span style="color:#ae81ff">7.28</span>   <span style="color:#ae81ff">7.375829</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span>  <span style="color:#ae81ff">7.34</span>   <span style="color:#ae81ff">7.362737</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>  <span style="color:#ae81ff">7.36</span>   <span style="color:#ae81ff">7.361768</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">13</span>  <span style="color:#ae81ff">7.32</span>   <span style="color:#ae81ff">7.347280</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">14</span>  <span style="color:#ae81ff">7.30</span>   <span style="color:#ae81ff">7.331099</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">2003</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">15</span>  <span style="color:#ae81ff">7.22</span>   <span style="color:#ae81ff">7.293412</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>test_data[[<span style="color:#e6db74">&#39;AAPL&#39;</span>,<span style="color:#e6db74">&#39;AAPL_EWM1&#39;</span>]]<span style="color:#f92672">.</span>plot()</span></span></code></pre></div></p>
<p>
<img src="ewma.png" alt="ewma.png" title="ewma.png" /></p>
</div>
</div>
<div id="outline-container-headline-5" class="outline-3">
<h3 id="headline-5">
Bollinger Bands 
</h3>
<div id="outline-text-headline-5" class="outline-text-3">
<p>
The actual prices tends to oscilate around the mean average, this variation of the price creates an envelope or a range that the price can flutuate. For a period of more volatility the lines spread, the default values are a mean of 20 periods and 2 points for std.</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>data_2017 <span style="color:#f92672">=</span> data<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;2017-01-01&#39;</span>:]<span style="color:#f92672">.</span>copy()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>data_2017[<span style="color:#e6db74">&#39;SMA1&#39;</span>] <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#39;Close&#39;</span>]<span style="color:#f92672">.</span>rolling(<span style="color:#ae81ff">20</span>)<span style="color:#f92672">.</span>mean()
</span></span><span style="display:flex;"><span>data_2017[<span style="color:#e6db74">&#39;STD1&#39;</span>] <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#39;Close&#39;</span>]<span style="color:#f92672">.</span>rolling(<span style="color:#ae81ff">20</span>)<span style="color:#f92672">.</span>std()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>data_2017[<span style="color:#e6db74">&#39;BB_LOWER&#39;</span>] <span style="color:#f92672">=</span> data_2017[<span style="color:#e6db74">&#39;SMA1&#39;</span>] <span style="color:#f92672">+</span> (<span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> data_2017[<span style="color:#e6db74">&#39;STD1&#39;</span>])
</span></span><span style="display:flex;"><span>data_2017[<span style="color:#e6db74">&#39;BB_UPPER&#39;</span>] <span style="color:#f92672">=</span> data_2017[<span style="color:#e6db74">&#39;SMA1&#39;</span>] <span style="color:#f92672">-</span> (<span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> data_2017[<span style="color:#e6db74">&#39;STD1&#39;</span>])
</span></span><span style="display:flex;"><span>data_2017[ [<span style="color:#e6db74">&#39;Close&#39;</span>, <span style="color:#e6db74">&#39;SMA1&#39;</span>, <span style="color:#e6db74">&#39;BB_LOWER&#39;</span>, <span style="color:#e6db74">&#39;BB_UPPER&#39;</span>] ]<span style="color:#f92672">.</span>plot(
</span></span><span style="display:flex;"><span>    figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">7</span>), 
</span></span><span style="display:flex;"><span>    color<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;#000000&#39;</span>, <span style="color:#e6db74">&#39;#0000FF&#39;</span>, <span style="color:#e6db74">&#39;#FF0000&#39;</span>, <span style="color:#e6db74">&#39;#FF0000&#39;</span>])</span></span></code></pre></div></p>
<p>
<img src="bollinger.png" alt="bollinger.png" title="bollinger.png" /></p>
</div>
</div>
<div id="outline-container-headline-6" class="outline-3">
<h3 id="headline-6">
Basic strategy
</h3>
<div id="outline-text-headline-6" class="outline-text-3">
<p>
A very simple strategy to buy/sell is to use two different cross period means, a longer and a shorter one. When the short mean cross the longest is buy signal, the opposite indicates a sell.</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>data_2017 <span style="color:#f92672">=</span> data<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;2017-01-01&#39;</span>:]<span style="color:#f92672">.</span>copy()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>data_2017[<span style="color:#e6db74">&#39;SMA1&#39;</span>] <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#39;Close&#39;</span>]<span style="color:#f92672">.</span>rolling(<span style="color:#ae81ff">30</span>)<span style="color:#f92672">.</span>mean()
</span></span><span style="display:flex;"><span>data_2017[<span style="color:#e6db74">&#39;SMA2&#39;</span>] <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#39;Close&#39;</span>]<span style="color:#f92672">.</span>rolling(<span style="color:#ae81ff">60</span>)<span style="color:#f92672">.</span>mean()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>data_2017[<span style="color:#e6db74">&#39;SIGNAL&#39;</span>] <span style="color:#f92672">=</span> data_2017<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x: <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">if</span> x[<span style="color:#e6db74">&#39;SMA1&#39;</span>] <span style="color:#f92672">&gt;</span> x[<span style="color:#e6db74">&#39;SMA2&#39;</span>] <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">None</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>data_2017[[<span style="color:#e6db74">&#39;Close&#39;</span>, <span style="color:#e6db74">&#39;SMA1&#39;</span>, <span style="color:#e6db74">&#39;SMA2&#39;</span>, <span style="color:#e6db74">&#39;SIGNAL&#39;</span>]]<span style="color:#f92672">.</span>plot(secondary_y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;SIGNAL&#39;</span>, figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">20</span>,<span style="color:#ae81ff">8</span>))</span></span></code></pre></div></p>
<p>
<img src="strategy.png" alt="strategy.png" title="strategy.png" /></p>
</div>
</div>
<div id="outline-container-headline-7" class="outline-3">
<h3 id="headline-7">
Keltner channels and EWM
</h3>
<div id="outline-text-headline-7" class="outline-text-3">
<p>
For the Keltner channels we have 3 lines, the upper band expressed by Exponential moving average (EMA) + (ATR * mult), middle band = EMA and Lower band = EMA - (ATR x mult), being the multiplier 2 and an EMA of 30. These envolopes are a good way to do things like stop loss or short sell.</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>data_2017 <span style="color:#f92672">=</span> data<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;2017-01-01&#39;</span>:]<span style="color:#f92672">.</span>copy()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>data_2017[<span style="color:#e6db74">&#39;AR&#39;</span>] <span style="color:#f92672">=</span> (data_2017[<span style="color:#e6db74">&#39;High&#39;</span>] <span style="color:#f92672">+</span> data_2017[<span style="color:#e6db74">&#39;Low&#39;</span>] <span style="color:#f92672">+</span> data_2017[<span style="color:#e6db74">&#39;Close&#39;</span>]) <span style="color:#f92672">/</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>data_2017[<span style="color:#e6db74">&#39;MINMAX&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> (data_2017[<span style="color:#e6db74">&#39;High&#39;</span>] <span style="color:#f92672">-</span> data_2017[<span style="color:#e6db74">&#39;Low&#39;</span>])<span style="color:#f92672">.</span>ewm(span<span style="color:#f92672">=</span><span style="color:#ae81ff">30</span>, adjust<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)<span style="color:#f92672">.</span>mean()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>data_2017[<span style="color:#e6db74">&#39;K_MIDDLE&#39;</span>] <span style="color:#f92672">=</span> data_2017[<span style="color:#e6db74">&#39;AR&#39;</span>]<span style="color:#f92672">.</span>ewm(span<span style="color:#f92672">=</span><span style="color:#ae81ff">30</span>, adjust<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)<span style="color:#f92672">.</span>mean()
</span></span><span style="display:flex;"><span>data_2017[<span style="color:#e6db74">&#39;K_UPPER&#39;</span>] <span style="color:#f92672">=</span> data_2017[<span style="color:#e6db74">&#39;K_MIDDLE&#39;</span>] <span style="color:#f92672">+</span> data_2017[<span style="color:#e6db74">&#39;MINMAX&#39;</span>]
</span></span><span style="display:flex;"><span>data_2017[<span style="color:#e6db74">&#39;K_LOWER&#39;</span>] <span style="color:#f92672">=</span> data_2017[<span style="color:#e6db74">&#39;K_MIDDLE&#39;</span>] <span style="color:#f92672">-</span> data_2017[<span style="color:#e6db74">&#39;MINMAX&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>data_2017[[<span style="color:#e6db74">&#39;Close&#39;</span>, <span style="color:#e6db74">&#39;K_MIDDLE&#39;</span>, <span style="color:#e6db74">&#39;K_UPPER&#39;</span>, <span style="color:#e6db74">&#39;K_LOWER&#39;</span>]]<span style="color:#f92672">.</span>plot(
</span></span><span style="display:flex;"><span>    figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">20</span>,<span style="color:#ae81ff">8</span>),
</span></span><span style="display:flex;"><span>    color<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;#000000&#39;</span>, <span style="color:#e6db74">&#39;#0000FF&#39;</span>, <span style="color:#e6db74">&#39;#FF0000&#39;</span>, <span style="color:#e6db74">&#39;#FF0000&#39;</span>])</span></span></code></pre></div></p>
<p>
<img src="keltner.png" alt="keltner.png" title="keltner.png" /></p>
</div>
</div>
<div id="outline-container-headline-8" class="outline-3">
<h3 id="headline-8">
Reference
</h3>
<div id="outline-text-headline-8" class="outline-text-3">
<div id="outline-container-headline-9" class="outline-5">
<h5 id="headline-9">
[1] Clif Droke, Moving Averages Simplified
</h5>
</div>
<div id="outline-container-headline-10" class="outline-5">
<h5 id="headline-10">
[2] Lemos, Flavio. Análise Técnica dos Mercados Financeiros
</h5>
</div>
</div>
</div>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/2018/0806/" title="Service Mesh"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/2017/" title="2017" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1755000526"></script>
    <script src="/js/perfect-scrollbar.min.js?1755000526"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1755000526"></script>
    <script src="/js/jquery.sticky.js?1755000526"></script>
    <script src="/js/featherlight.min.js?1755000526"></script>
    <script src="/js/highlight.pack.js?1755000526"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1755000526"></script>
    <script src="/js/learn.js?1755000526"></script>
    <script src="/js/hugo-learn.js?1755000526"></script>
    
        
            <script src="/mermaid/mermaid.js?1755000526"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

