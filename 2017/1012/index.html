<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.113.0">
    <meta name="description" content="">


    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>More statistics and Python :: compulsory thinking</title>

    
    <link href="/css/nucleus.css?1755000228" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1755000228" rel="stylesheet">
    <link href="/css/hybrid.css?1755000228" rel="stylesheet">
    <link href="/css/featherlight.min.css?1755000228" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1755000228" rel="stylesheet">
    <link href="/css/auto-complete.css?1755000228" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1755000228" rel="stylesheet">
    <link href="/css/theme.css?1755000228" rel="stylesheet">
    <link href="/css/tabs.css?1755000228" rel="stylesheet">
    <link href="/css/hugo-theme.css?1755000228" rel="stylesheet">
    
    <link href="/css/theme-blue.css?1755000228" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1755000228"></script>
      
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SXHZPRXGDZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-SXHZPRXGDZ');
    </script>
    <script>
    if (location.host.indexOf("localhost") < 0 && location.protocol !== "https:") {
      location.protocol = "https:";
    }
    </script>
    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/2017/1012/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href='/'>
  עֹז
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1755000228"></script>
<script type="text/javascript" src="/js/auto-complete.js?1755000228"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/opssec.in\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1755000228"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/2025/" title="2025" class="dd-item
        
        
        
        ">
      <a href="/2025/">
          2025
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/2025/0812/" title="Embracing Vibe Ops: AI-Driven Troubleshooting for ClusterAPI" class="dd-item
        
        
        
        ">
      <a href="/2025/0812/">
          Embracing Vibe Ops: AI-Driven Troubleshooting for ClusterAPI
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2024/" title="2024" class="dd-item
        
        
        
        ">
      <a href="/2024/">
          2024
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/2024/0201/" title="Kubernetes vSphere CSI on Windows" class="dd-item
        
        
        
        ">
      <a href="/2024/0201/">
          Kubernetes vSphere CSI on Windows
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2024/0104/" title="Kubernetes Windows Nodes" class="dd-item
        
        
        
        ">
      <a href="/2024/0104/">
          Kubernetes Windows Nodes
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2023/" title="2023" class="dd-item
        
        
        
        ">
      <a href="/2023/">
          2023
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/2023/1230/" title="Running Windows cluster locally" class="dd-item
        
        
        
        ">
      <a href="/2023/1230/">
          Running Windows cluster locally
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0801/" title="sigstore policy-controller validation" class="dd-item
        
        
        
        ">
      <a href="/2023/0801/">
          sigstore policy-controller validation
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0721/" title="Ztunnel SPIRE implementation" class="dd-item
        
        
        
        ">
      <a href="/2023/0721/">
          Ztunnel SPIRE implementation
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0702/" title="Waypoint Proxy for the app layer" class="dd-item
        
        
        
        ">
      <a href="/2023/0702/">
          Waypoint Proxy for the app layer
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0630/" title="Ztunnel on Ambient Mesh" class="dd-item
        
        
        
        ">
      <a href="/2023/0630/">
          Ztunnel on Ambient Mesh
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0628/" title="Istio CNI on Ambient Mesh" class="dd-item
        
        
        
        ">
      <a href="/2023/0628/">
          Istio CNI on Ambient Mesh
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0622/" title="Istio Ambient Service Mesh Demo" class="dd-item
        
        
        
        ">
      <a href="/2023/0622/">
          Istio Ambient Service Mesh Demo
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0611/" title="SPIFFE/SPIRE for gRPC authz" class="dd-item
        
        
        
        ">
      <a href="/2023/0611/">
          SPIFFE/SPIRE for gRPC authz
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0608/" title="Secure gRPC services with mTLS" class="dd-item
        
        
        
        ">
      <a href="/2023/0608/">
          Secure gRPC services with mTLS
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0406/" title="Windows CNI tracing and deep dive" class="dd-item
        
        
        
        ">
      <a href="/2023/0406/">
          Windows CNI tracing and deep dive
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0330/" title="Windows Containers and .NET apps" class="dd-item
        
        
        
        ">
      <a href="/2023/0330/">
          Windows Containers and .NET apps
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0322/" title="Multi AZ on Kubernetes and vSphere" class="dd-item
        
        
        
        ">
      <a href="/2023/0322/">
          Multi AZ on Kubernetes and vSphere
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2022/" title="2022" class="dd-item
        
        
        
        ">
      <a href="/2022/">
          2022
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/2022/0712/" title="Hybrid nodes with ClusterClass on Amazon Web Service" class="dd-item
        
        
        
        ">
      <a href="/2022/0712/">
          Hybrid nodes with ClusterClass on Amazon Web Service
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2022/0610/" title="Border Gateway Protocol (BGP) and Kubernetes" class="dd-item
        
        
        
        ">
      <a href="/2022/0610/">
          Border Gateway Protocol (BGP) and Kubernetes
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2022/0320/" title="Cluster API Provider for Azure" class="dd-item
        
        
        
        ">
      <a href="/2022/0320/">
          Cluster API Provider for Azure
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2022/0122/" title="Kube-Proxy Next Gen Windows Userspace" class="dd-item
        
        
        
        ">
      <a href="/2022/0122/">
          Kube-Proxy Next Gen Windows Userspace
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2021/" title="2021" class="dd-item
        
        
        
        ">
      <a href="/2021/">
          2021
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/2021/1218/" title="Kube-proxy Windows Kernelspace Mode" class="dd-item
        
        
        
        ">
      <a href="/2021/1218/">
          Kube-proxy Windows Kernelspace Mode
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/1127/" title="Kube-proxy Linux Userspace Mode" class="dd-item
        
        
        
        ">
      <a href="/2021/1127/">
          Kube-proxy Linux Userspace Mode
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/1017/" title="Kube-proxy Winuserspace Mode" class="dd-item
        
        
        
        ">
      <a href="/2021/1017/">
          Kube-proxy Winuserspace Mode
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/0903/" title="Windows and Calico overlay networking" class="dd-item
        
        
        
        ">
      <a href="/2021/0903/">
          Windows and Calico overlay networking
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/0828/" title="CNI plugins and kindnet" class="dd-item
        
        
        
        ">
      <a href="/2021/0828/">
          CNI plugins and kindnet
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/0614/" title="Kube-proxy ClusterIP" class="dd-item
        
        
        
        ">
      <a href="/2021/0614/">
          Kube-proxy ClusterIP
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/0228/" title="Kubernetes Windows Nodes" class="dd-item
        
        
        
        ">
      <a href="/2021/0228/">
          Kubernetes Windows Nodes
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2020/" title="2020" class="dd-item
        
        
        
        ">
      <a href="/2020/">
          2020
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2020/1227/" title="Network Policy E2E test suite" class="dd-item ">
        <a href="/2020/1227/">
        Network Policy E2E test suite
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2020/2405/" title="Kubelet Dynamic Configuration" class="dd-item ">
        <a href="/2020/2405/">
        Kubelet Dynamic Configuration
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2020/1005/" title="Kubelet Debugging Session" class="dd-item ">
        <a href="/2020/1005/">
        Kubelet Debugging Session
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2019/" title="2019" class="dd-item
        
        
        
        ">
      <a href="/2019/">
          2019
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2019/1228/" title="Kubernetes Networking 101" class="dd-item ">
        <a href="/2019/1228/">
        Kubernetes Networking 101
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/12282/" title="Kubernetes Deployment Workloads" class="dd-item ">
        <a href="/2019/12282/">
        Kubernetes Deployment Workloads
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/12283/" title="Kubernetes Container API" class="dd-item ">
        <a href="/2019/12283/">
        Kubernetes Container API
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1227/" title="Pod specification" class="dd-item ">
        <a href="/2019/1227/">
        Pod specification
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1226/" title="Kubectl Walkthrough" class="dd-item ">
        <a href="/2019/1226/">
        Kubectl Walkthrough
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1225/" title="Kubernetes in Docker" class="dd-item ">
        <a href="/2019/1225/">
        Kubernetes in Docker
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1215/" title="Sawtooth Cheatsheet" class="dd-item ">
        <a href="/2019/1215/">
        Sawtooth Cheatsheet
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1208/" title="Sawtooth Permissioning" class="dd-item ">
        <a href="/2019/1208/">
        Sawtooth Permissioning
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1127/" title="Kubernetes Audit Sink" class="dd-item ">
        <a href="/2019/1127/">
        Kubernetes Audit Sink
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1123/" title="Kubernetes API client" class="dd-item ">
        <a href="/2019/1123/">
        Kubernetes API client
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/11161/dev-poet/" title="From Dev to PoET" class="dd-item ">
        <a href="/2019/11161/dev-poet/">
        From Dev to PoET
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1116/" title="Sawtooth Network Monitoring" class="dd-item ">
        <a href="/2019/1116/">
        Sawtooth Network Monitoring
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1111/" title="Gossip networks" class="dd-item ">
        <a href="/2019/1111/">
        Gossip networks
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2018/" title="2018" class="dd-item
        
        
        
        ">
      <a href="/2018/">
          2018
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2018/08072/" title="Golang essays (part II)" class="dd-item ">
        <a href="/2018/08072/">
        Golang essays (part II)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0807/" title="Golang essays (part I)" class="dd-item ">
        <a href="/2018/0807/">
        Golang essays (part I)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0704/langs2/" title="Rust 101" class="dd-item ">
        <a href="/2018/0704/langs2/">
        Rust 101
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0602/sawtooth/" title="Hyperledger Sawtooth" class="dd-item ">
        <a href="/2018/0602/sawtooth/">
        Hyperledger Sawtooth
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0527/langs1/" title="Bootstraping languages" class="dd-item ">
        <a href="/2018/0527/langs1/">
        Bootstraping languages
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0806/" title="Service Mesh" class="dd-item ">
        <a href="/2018/0806/">
        Service Mesh
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0325/" title="Technical indicators" class="dd-item ">
        <a href="/2018/0325/">
        Technical indicators
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2017/" title="2017" class="dd-item
        parent
        
        
        ">
      <a href="/2017/">
          2017
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2017/1012/" title="More statistics and Python" class="dd-item active">
        <a href="/2017/1012/">
        More statistics and Python
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2017/0701/" title="Probability" class="dd-item ">
        <a href="/2017/0701/">
        Probability
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2017/0625/" title="Statistics and Python" class="dd-item ">
        <a href="/2017/0625/">
        Statistics and Python
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2016/" title="2016" class="dd-item
        
        
        
        ">
      <a href="/2016/">
          2016
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2016/1216/apk/" title="Android APK hacking" class="dd-item ">
        <a href="/2016/1216/apk/">
        Android APK hacking
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2016/1127/" title="Continuous Deployment and DEIS" class="dd-item ">
        <a href="/2016/1127/">
        Continuous Deployment and DEIS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2016/0618/ecto/" title="Ecto vs. Django ORM" class="dd-item ">
        <a href="/2016/0618/ecto/">
        Ecto vs. Django ORM
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2016/0416/cpython/" title="CPython Debugging" class="dd-item ">
        <a href="/2016/0416/cpython/">
        CPython Debugging
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2016/0123/" title="Golang vs. Python" class="dd-item ">
        <a href="/2016/0123/">
        Golang vs. Python
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2016/0116/" title="Monitoring MySQL w/ Prometheus" class="dd-item ">
        <a href="/2016/0116/">
        Monitoring MySQL w/ Prometheus
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2015/" title="2015" class="dd-item
        
        
        
        ">
      <a href="/2015/">
          2015
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2015/0309/consul/" title="Consul - Service Discovery" class="dd-item ">
        <a href="/2015/0309/consul/">
        Consul - Service Discovery
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2015/0908/finance/" title="General finance formulas" class="dd-item ">
        <a href="/2015/0908/finance/">
        General finance formulas
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2015/2607/" title="Tsung Capacity Test" class="dd-item ">
        <a href="/2015/2607/">
        Tsung Capacity Test
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <center>
  <p><b>Amim Knabben</b> - 2024</p>
    amim.knabben@gmail.com
  <br/>
  <a href="https://github.com/knabben"><i class="fab fa-github"></i></a>
  <a href="https://twitter.com/ak_ndb"><i class="fab fa-twitter"></i></a>
  <a href="https://linkedin.com/in/amim"><i class="fab fa-linkedin"></i></a>
  <br />
  <br />

  <a href="https://md.opssec.in">win32 API </i></a>

</center>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'></a> > <a href='/2017/'>2017</a> > More statistics and Python
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li><a href="#headline-1">Simple linear regression</a>
<ul>
<li><a href="#headline-2">Introduction</a>
<ul>
<li><a href="#headline-3">Getting financial data</a>
</li>
<li><a href="#headline-4">Covariance</a>
</li>
<li><a href="#headline-5">Correlation</a>
</li>
<li><a href="#headline-6">Linear Regression</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#headline-7">ANOVA</a>
<ul>
<li><a href="#headline-8">Testing in 4 steps</a>
<ul>
<li><a href="#headline-9">H0: u1 = u2 = u3</a>
</li>
<li><a href="#headline-10">H1: The means aren&#39;t equal.</a>
</li>
<li><a href="#headline-11">df1: k - 1 = 3 - 1 = 2</a>
</li>
<li><a href="#headline-12">df2: n - k = 15 - 3 = 12</a>
</li>
</ul>
</li>
<li><a href="#headline-13">Exercises</a>
</li>
</ul>
</li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              More statistics and Python
            </h1>
          

        



<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
Simple linear regression
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<div id="outline-container-headline-2" class="outline-3">
<h3 id="headline-2">
Introduction
</h3>
<div id="outline-text-headline-2" class="outline-text-3">
<p>
This is again a collection of notes about stats and finance, with focus on covariance, correlation and simple linear regression, the idea here is to analyse some tools to measure risk. For a better representation let&#39;s get some Bovespa companies from the sector of Cyclic Consumption, they are: MGLU3, BTOW3, LAME3, LREN3.</p>
<div id="outline-container-headline-3" class="outline-4">
<h4 id="headline-3">
Getting financial data
</h4>
<div id="outline-text-headline-3" class="outline-text-4">
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas_datareader <span style="color:#66d9ef">as</span> web
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> pandas.plotting <span style="color:#f92672">import</span> scatter_matrix
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> datetime <span style="color:#f92672">import</span> datetime, timedelta
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">%</span>matplotlib inline
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>end <span style="color:#f92672">=</span> datetime<span style="color:#f92672">.</span>now()
</span></span><span style="display:flex;"><span>start <span style="color:#f92672">=</span> end <span style="color:#f92672">-</span> timedelta(days<span style="color:#f92672">=</span><span style="color:#ae81ff">365</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Fetch historiacal data</span>
</span></span><span style="display:flex;"><span>sec_data <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> symbol <span style="color:#f92672">in</span> [<span style="color:#e6db74">&#39;MGLU3&#39;</span>, <span style="color:#e6db74">&#39;BTOW3&#39;</span>, <span style="color:#e6db74">&#39;LAME3&#39;</span>, <span style="color:#e6db74">&#39;LREN3&#39;</span>]:
</span></span><span style="display:flex;"><span>    sec_data[symbol] <span style="color:#f92672">=</span> web<span style="color:#f92672">.</span>DataReader(<span style="color:#e6db74">&#39;BVMF:</span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(symbol),
</span></span><span style="display:flex;"><span>                                      <span style="color:#e6db74">&#39;google&#39;</span>, start, end)[<span style="color:#e6db74">&#39;Close&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Shift percent return</span>
</span></span><span style="display:flex;"><span>sec_returns <span style="color:#f92672">=</span> sec_data<span style="color:#f92672">.</span>pct_change(<span style="color:#ae81ff">1</span>)[<span style="color:#ae81ff">1</span>:]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Plot the cumulative sum of return</span>
</span></span><span style="display:flex;"><span>sec_returns<span style="color:#f92672">.</span>cumsum()<span style="color:#f92672">.</span>plot()</span></span></code></pre></div></p>
<p>
<img src="cumsum.png" alt="cumsum.png" title="cumsum.png" /></p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Some numbers about the anual return</span>
</span></span><span style="display:flex;"><span>print(sec_returns<span style="color:#f92672">.</span>mean() <span style="color:#f92672">*</span> <span style="color:#ae81ff">250</span>)
</span></span><span style="display:flex;"><span>  MGLU3    <span style="color:#ae81ff">2.234703</span>
</span></span><span style="display:flex;"><span>  BTOW3    <span style="color:#ae81ff">0.577344</span>
</span></span><span style="display:flex;"><span>  LAME3    <span style="color:#ae81ff">0.173837</span>
</span></span><span style="display:flex;"><span>  LREN3    <span style="color:#ae81ff">0.497388</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(sec_returns<span style="color:#f92672">.</span>std() <span style="color:#f92672">*</span> <span style="color:#ae81ff">250</span> <span style="color:#f92672">**</span> <span style="color:#ae81ff">0.5</span>)
</span></span><span style="display:flex;"><span>  MGLU3    <span style="color:#ae81ff">0.744661</span>
</span></span><span style="display:flex;"><span>  BTOW3    <span style="color:#ae81ff">0.534165</span>
</span></span><span style="display:flex;"><span>  LAME3    <span style="color:#ae81ff">0.261230</span>
</span></span><span style="display:flex;"><span>  LREN3    <span style="color:#ae81ff">0.290350</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Returns of the histogram</span>
</span></span><span style="display:flex;"><span>sec_returns<span style="color:#f92672">.</span>hist(bins<span style="color:#f92672">=</span><span style="color:#ae81ff">50</span>);</span></span></code></pre></div></p>
<p>
<img src="histogram-50.png" alt="histogram-50.png" title="histogram-50.png" /></p>
</div>
</div>
<div id="outline-container-headline-4" class="outline-4">
<h4 id="headline-4">
Covariance
</h4>
<div id="outline-text-headline-4" class="outline-text-4">
<p>
Study the relationship between values, this evaluates how the variables X and Y moves at the same time in relation it&#39;s mean values.</p>
<p>
$$COV(a,b) = \frac{\sum_{k=1}(Ra - \overline{R}a) * (Rb - \overline{R}b)}{n}$$</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>sec_returns<span style="color:#f92672">.</span>var() <span style="color:#f92672">*</span> <span style="color:#ae81ff">250</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  MGLU3    <span style="color:#ae81ff">0.554520</span>
</span></span><span style="display:flex;"><span>  BTOW3    <span style="color:#ae81ff">0.285332</span>
</span></span><span style="display:flex;"><span>  LAME3    <span style="color:#ae81ff">0.068241</span>
</span></span><span style="display:flex;"><span>  LREN3    <span style="color:#ae81ff">0.084303</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Covariance matrix</span>
</span></span><span style="display:flex;"><span>sec_returns<span style="color:#f92672">.</span>cov() <span style="color:#f92672">*</span> <span style="color:#ae81ff">250</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          MGLU3     BTOW3     LAME3     LREN3      IBOV
</span></span><span style="display:flex;"><span>MGLU3  <span style="color:#ae81ff">0.554520</span>  <span style="color:#ae81ff">0.091651</span>  <span style="color:#ae81ff">0.067703</span>  <span style="color:#ae81ff">0.038393</span>  <span style="color:#ae81ff">0.054705</span>
</span></span><span style="display:flex;"><span>BTOW3  <span style="color:#ae81ff">0.091651</span>  <span style="color:#ae81ff">0.285332</span>  <span style="color:#ae81ff">0.079719</span>  <span style="color:#ae81ff">0.051221</span>  <span style="color:#ae81ff">0.048674</span>
</span></span><span style="display:flex;"><span>LAME3  <span style="color:#ae81ff">0.067703</span>  <span style="color:#ae81ff">0.079719</span>  <span style="color:#ae81ff">0.068241</span>  <span style="color:#ae81ff">0.042511</span>  <span style="color:#ae81ff">0.034721</span>
</span></span><span style="display:flex;"><span>LREN3  <span style="color:#ae81ff">0.038393</span>  <span style="color:#ae81ff">0.051221</span>  <span style="color:#ae81ff">0.042511</span>  <span style="color:#ae81ff">0.084303</span>  <span style="color:#ae81ff">0.040986</span>
</span></span><span style="display:flex;"><span>IBOV   <span style="color:#ae81ff">0.054705</span>  <span style="color:#ae81ff">0.048674</span>  <span style="color:#ae81ff">0.034721</span>  <span style="color:#ae81ff">0.040986</span>  <span style="color:#ae81ff">0.042769</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Scatter matrix between stocks</span>
</span></span><span style="display:flex;"><span>scatter_matrix(sec_returns, figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">8</span>,<span style="color:#ae81ff">8</span>), alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.2</span>, hist_kwds<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;bins&#39;</span>:<span style="color:#ae81ff">50</span>});</span></span></code></pre></div></p>
<p>
<img src="scatter-stock.png" alt="scatter-stock.png" title="scatter-stock.png" /></p>
</div>
</div>
<div id="outline-container-headline-5" class="outline-4">
<h4 id="headline-5">
Correlation
</h4>
<div id="outline-text-headline-5" class="outline-text-4">
<p>
Is simply a normalized form of covariance.</p>
<p>
$$ CORRx,y = \frac{COVx,y}{\sigma{x}*\sigma{y}} $$</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>sec_returns<span style="color:#f92672">.</span>corr()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          MGLU3     BTOW3     LAME3     LREN3      IBOV
</span></span><span style="display:flex;"><span>MGLU3  <span style="color:#ae81ff">1.000000</span>  <span style="color:#ae81ff">0.230411</span>  <span style="color:#ae81ff">0.348039</span>  <span style="color:#ae81ff">0.177572</span>  <span style="color:#ae81ff">0.355224</span>
</span></span><span style="display:flex;"><span>BTOW3  <span style="color:#ae81ff">0.230411</span>  <span style="color:#ae81ff">1.000000</span>  <span style="color:#ae81ff">0.571298</span>  <span style="color:#ae81ff">0.330259</span>  <span style="color:#ae81ff">0.440611</span>
</span></span><span style="display:flex;"><span>LAME3  <span style="color:#ae81ff">0.348039</span>  <span style="color:#ae81ff">0.571298</span>  <span style="color:#ae81ff">1.000000</span>  <span style="color:#ae81ff">0.560470</span>  <span style="color:#ae81ff">0.642699</span>
</span></span><span style="display:flex;"><span>LREN3  <span style="color:#ae81ff">0.177572</span>  <span style="color:#ae81ff">0.330259</span>  <span style="color:#ae81ff">0.560470</span>  <span style="color:#ae81ff">1.000000</span>  <span style="color:#ae81ff">0.682574</span>
</span></span><span style="display:flex;"><span>IBOV   <span style="color:#ae81ff">0.355224</span>  <span style="color:#ae81ff">0.440611</span>  <span style="color:#ae81ff">0.642699</span>  <span style="color:#ae81ff">0.682574</span>  <span style="color:#ae81ff">1.000000</span></span></span></code></pre></div></p>
</div>
</div>
<div id="outline-container-headline-6" class="outline-4">
<h4 id="headline-6">
Linear Regression
</h4>
<div id="outline-text-headline-6" class="outline-text-4">
<p>
$$ Y = \beta + \alpha * X $$</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> statsmodels.api <span style="color:#66d9ef">as</span> sm
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Fetch Ibovespa index</span>
</span></span><span style="display:flex;"><span>sec_returns[<span style="color:#e6db74">&#39;IBOV&#39;</span>] <span style="color:#f92672">=</span> web<span style="color:#f92672">.</span>DataReader(
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;INDEXBVMF:IBOV&#39;</span><span style="color:#f92672">.</span>format(symbol), <span style="color:#e6db74">&#39;google&#39;</span>, start, end
</span></span><span style="display:flex;"><span>)[<span style="color:#e6db74">&#39;Close&#39;</span>]<span style="color:#f92672">.</span>pct_change(<span style="color:#ae81ff">1</span>)[<span style="color:#ae81ff">1</span>:]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(sec_returns<span style="color:#f92672">.</span>head())</span></span></code></pre></div></p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>                   MGLU3     BTOW3     LAME3     LREN3      IBOV
</span></span><span style="display:flex;"><span>    Date                                                        
</span></span><span style="display:flex;"><span>    2016-10-14  0.028029  0.004507  0.027834  0.012278  0.010613
</span></span><span style="display:flex;"><span>    2016-10-17 -0.010554  0.038462  0.009247  0.011292  0.015039
</span></span><span style="display:flex;"><span>    2016-10-18  0.011556  0.039506  0.024869  0.015302  0.017323
</span></span><span style="display:flex;"><span>    2016-10-19  0.010545  0.010689  0.001916 -0.001629 -0.004337
</span></span><span style="display:flex;"><span>    2016-10-20  0.000000  0.013514 -0.001912  0.001632  0.005232</span></span></code></pre></div> </p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Calculate the alfa and beta for LAME3</span>
</span></span><span style="display:flex;"><span>X <span style="color:#f92672">=</span> sec_returns[<span style="color:#e6db74">&#39;IBOV&#39;</span>]
</span></span><span style="display:flex;"><span>Y <span style="color:#f92672">=</span> sec_returns[<span style="color:#e6db74">&#39;LAME3&#39;</span>]
</span></span><span style="display:flex;"><span>result <span style="color:#f92672">=</span> sm<span style="color:#f92672">.</span>regression<span style="color:#f92672">.</span>linear_model<span style="color:#f92672">.</span>OLS(Y, sm<span style="color:#f92672">.</span>add_constant(X))<span style="color:#f92672">.</span>fit()
</span></span><span style="display:flex;"><span>result<span style="color:#f92672">.</span>summary()</span></span></code></pre></div></p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>                          OLS Regression Results                            
</span></span><span style="display:flex;"><span>==============================================================================
</span></span><span style="display:flex;"><span>Dep. Variable:                  LAME3   R-squared:                       0.413
</span></span><span style="display:flex;"><span>Model:                            OLS   Adj. R-squared:                  0.411
</span></span><span style="display:flex;"><span>Method:                 Least Squares   F-statistic:                     173.1
</span></span><span style="display:flex;"><span>Date:                Thu, 12 Oct 2017   Prob (F-statistic):           2.71e-30
</span></span><span style="display:flex;"><span>Time:                        21:31:42   Log-Likelihood:                 732.24
</span></span><span style="display:flex;"><span>No. Observations:                 248   AIC:                            -1460.
</span></span><span style="display:flex;"><span>Df Residuals:                     246   BIC:                            -1453.
</span></span><span style="display:flex;"><span>Df Model:                           1                                         
</span></span><span style="display:flex;"><span>Covariance Type:            nonrobust                                         
</span></span><span style="display:flex;"><span>==============================================================================
</span></span><span style="display:flex;"><span>                 coef    std err          t      P&gt;|t|      [0.025      0.975]
</span></span><span style="display:flex;"><span>------------------------------------------------------------------------------
</span></span><span style="display:flex;"><span>const         -0.0001      0.001     -0.144      0.885      -0.002       0.001
</span></span><span style="display:flex;"><span>IBOV           0.8118      0.062     13.158      0.000       0.690       0.933
</span></span><span style="display:flex;"><span>==============================================================================
</span></span><span style="display:flex;"><span>Omnibus:                       14.069   Durbin-Watson:                   2.021
</span></span><span style="display:flex;"><span>Prob(Omnibus):                  0.001   Jarque-Bera (JB):               30.752
</span></span><span style="display:flex;"><span>Skew:                          -0.205   Prob(JB):                     2.10e-07
</span></span><span style="display:flex;"><span>Kurtosis:                       4.675   Cond. No.                         76.6
</span></span><span style="display:flex;"><span>==============================================================================</span></span></code></pre></div></p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> result<span style="color:#f92672">.</span>params[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> result<span style="color:#f92672">.</span>params[<span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>X2 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>linspace(X<span style="color:#f92672">.</span>min(), X<span style="color:#f92672">.</span>max(), <span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>Y_hat <span style="color:#f92672">=</span> X2 <span style="color:#f92672">*</span> b <span style="color:#f92672">+</span> a
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>scatter(X, Y, alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.3</span>);
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(X2, Y_hat, <span style="color:#e6db74">&#39;r&#39;</span>, alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.9</span>);
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#39;Ibov Value&#39;</span>);
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#39;LAME3 Value&#39;</span>);</span></span></code></pre></div></p>
<p>
<a href="linear-reg-lame3">linear-reg-lame3</a></p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">***</span> Exercises: Suppose those are the grades of some students, answer the following: 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># a) what is the correlation coeficient of these variables and the type of relation</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># b) construct the equation finding alfa and beta</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># c) If the student takes a 6.5 on math what is his note in biology?</span></span></span></code></pre></div></p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> scipy <span style="color:#f92672">import</span> stats
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;math&#39;</span>: [<span style="color:#ae81ff">9.5</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">8.5</span>, <span style="color:#ae81ff">8.0</span>, <span style="color:#ae81ff">8.0</span>, <span style="color:#ae81ff">7.5</span>, <span style="color:#ae81ff">7.5</span>, <span style="color:#ae81ff">6.0</span>, <span style="color:#ae81ff">5.0</span>, <span style="color:#ae81ff">4.0</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;bio&#39;</span>: [<span style="color:#ae81ff">3.4</span>, <span style="color:#ae81ff">5.4</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">7.5</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">8</span>]
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;x.y&#39;</span>] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#39;math&#39;</span>] <span style="color:#f92672">*</span> df[<span style="color:#e6db74">&#39;bio&#39;</span>]
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;x2&#39;</span>] <span style="color:#f92672">=</span> round(df[<span style="color:#e6db74">&#39;math&#39;</span>] <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;y2&#39;</span>] <span style="color:#f92672">=</span> round(df[<span style="color:#e6db74">&#39;bio&#39;</span>] <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>scatter(df[<span style="color:#e6db74">&#39;math&#39;</span>], df[<span style="color:#e6db74">&#39;bio&#39;</span>])</span></span></code></pre></div></p>
<p>
<a href="fille:exercise-linear.png">fille:exercise-linear.png</a></p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>Answer:
</span></span><span style="display:flex;"><span>a)
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>corrcoef(df[<span style="color:#e6db74">&#39;math&#39;</span>], df[<span style="color:#e6db74">&#39;bio&#39;</span>])[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">-</span><span style="color:#ae81ff">0.73842044735499168</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>b)
</span></span><span style="display:flex;"><span>stat <span style="color:#f92672">=</span> stats<span style="color:#f92672">.</span>linregress(df[<span style="color:#e6db74">&#39;math&#39;</span>], df[<span style="color:#e6db74">&#39;bio&#39;</span>])
</span></span><span style="display:flex;"><span>slope <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.7042</span>
</span></span><span style="display:flex;"><span>intercept <span style="color:#f92672">=</span> <span style="color:#ae81ff">11.67117</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>c) stat<span style="color:#f92672">.</span>intercept <span style="color:#f92672">+</span> (stat<span style="color:#f92672">.</span>slope <span style="color:#f92672">*</span> <span style="color:#ae81ff">6.5</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">7.0934163701067607</span></span></span></code></pre></div></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-7" class="outline-2">
<h2 id="headline-7">
ANOVA
</h2>
<div id="outline-text-headline-7" class="outline-text-2">
<p>
Variance analysis is a way to test the validity of a null hypothesis and check if the arithmetic means of two or populations are equal. For this case, it is being analyzed three different methods of teaching, and the student&#39;s grade for each method, having a significance level of 1%.</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#f92672">%</span>matplotlib inline
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>data <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;I&#39;</span>: [<span style="color:#ae81ff">48</span>, <span style="color:#ae81ff">73</span>, <span style="color:#ae81ff">51</span>, <span style="color:#ae81ff">65</span>, <span style="color:#ae81ff">87</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;II&#39;</span>: [<span style="color:#ae81ff">55</span>, <span style="color:#ae81ff">85</span>, <span style="color:#ae81ff">70</span>, <span style="color:#ae81ff">69</span>, <span style="color:#ae81ff">90</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;III&#39;</span>: [<span style="color:#ae81ff">84</span>, <span style="color:#ae81ff">68</span>, <span style="color:#ae81ff">95</span>, <span style="color:#ae81ff">74</span>, <span style="color:#ae81ff">67</span>]
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>data<span style="color:#f92672">.</span>boxplot()</span></span></code></pre></div></p>
<p>
<img src="bloxplot-anova.png" alt="bloxplot-anova.png" title="bloxplot-anova.png" /></p>
<div id="outline-container-headline-8" class="outline-4">
<h4 id="headline-8">
Testing in 4 steps
</h4>
<div id="outline-text-headline-8" class="outline-text-4">
<ol>
<li>The first step is declare the null hypothesis and the alternative hypothese</li>
</ol>
<div id="outline-container-headline-9" class="outline-6">
<h6 id="headline-9">
H0: u1 = u2 = u3
</h6>
</div>
<div id="outline-container-headline-10" class="outline-6">
<h6 id="headline-10">
H1: The means aren&#39;t equal.
</h6>
<div id="outline-text-headline-10" class="outline-text-6">
<ol>
<li>Defining the critical region</li>
</ol>
<p>For setting the degree of freedom we have, being k the number of methods and n the total number of observations:</p>
</div>
</div>
<div id="outline-container-headline-11" class="outline-6">
<h6 id="headline-11">
df1: k - 1 = 3 - 1 = 2
</h6>
</div>
<div id="outline-container-headline-12" class="outline-6">
<h6 id="headline-12">
df2: n - k = 15 - 3 = 12
</h6>
<div id="outline-text-headline-12" class="outline-text-6">
<p>
Following the df(2,12) we can find the critical value = 6.93 in the F distribution table with an alpha of 0.01</p>
<p>
http://www.socr.ucla.edu/applets.dir/f_table.html#FTable0.01</p>
<ol>
<li>We can use scipy stats to fetch the F-value between the three methods</li>
</ol>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> scipy.stats <span style="color:#66d9ef">as</span> stats
</span></span><span style="display:flex;"><span>f_value, _ <span style="color:#f92672">=</span> stats<span style="color:#f92672">.</span>f_oneway(data[<span style="color:#e6db74">&#39;I&#39;</span>], data[<span style="color:#e6db74">&#39;II&#39;</span>], data[<span style="color:#e6db74">&#39;III&#39;</span>])
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1.092717464598786</span></span></span></code></pre></div></p>
<ol>
<li>Take a decision</li>
</ol>
<p>We have the F_value = 1.09 &lt; critical_value = 6.93, and cannot reject the null hypothesis what finishes the conclusion: the arithmetic mean are equal for the three population</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-13" class="outline-3">
<h3 id="headline-13">
Exercises
</h3>
<div id="outline-text-headline-13" class="outline-text-3">
<p>
A director of a company wants to buy a new screw machine, you must learn about the brands from a determined period each one independently makes the following number of screws, our null hypothesis here is to confirm there&#39;s no difference between the mean volume of pieces each machine can build. The significance level is 5%.</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>machine_I <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>])
</span></span><span style="display:flex;"><span>machine_II <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">11</span>])
</span></span><span style="display:flex;"><span>machine_III <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">5</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>n <span style="color:#f92672">=</span> len(machine_I) <span style="color:#f92672">+</span> len(machine_II) <span style="color:#f92672">+</span> len(machine_III)
</span></span><span style="display:flex;"><span>k <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Defining the degrees of freedom</span>
</span></span><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> k <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>df2 <span style="color:#f92672">=</span> n <span style="color:#f92672">-</span> k
</span></span><span style="display:flex;"><span><span style="color:#75715e"># dg(2,15)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>np_m1 <span style="color:#f92672">=</span> round(machine_I<span style="color:#f92672">.</span>mean(), <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>np_m2 <span style="color:#f92672">=</span> round(machine_II<span style="color:#f92672">.</span>mean(), <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>np_m3 <span style="color:#f92672">=</span> round(machine_III<span style="color:#f92672">.</span>mean(), <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 6.4 9.57 6.33</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>total_mean <span style="color:#f92672">=</span> (np_m1 <span style="color:#f92672">+</span> np_m2 <span style="color:#f92672">+</span> np_m3) <span style="color:#f92672">/</span> k
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 7.43333333333</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Calculating the sum of squares due to the source BETWEEN</span>
</span></span><span style="display:flex;"><span>SSB <span style="color:#f92672">=</span> (
</span></span><span style="display:flex;"><span>    (len(machine_I) <span style="color:#f92672">*</span> (np_m1 <span style="color:#f92672">-</span> total_mean) <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    (len(machine_II) <span style="color:#f92672">*</span> (np_m2 <span style="color:#f92672">-</span> total_mean) <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    (len(machine_III) <span style="color:#f92672">*</span> (np_m3 <span style="color:#f92672">-</span> total_mean) <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 44.6003666667</span>
</span></span><span style="display:flex;"><span>MSB <span style="color:#f92672">=</span> SSB <span style="color:#f92672">/</span> df1
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 22.3001833333</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Calculating the sum of squares due to the source RESIDUAL</span>
</span></span><span style="display:flex;"><span>SSE1 <span style="color:#f92672">=</span> round(((np_m1 <span style="color:#f92672">-</span> machine_I)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">.</span>sum(), <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>SSE2 <span style="color:#f92672">=</span> round(((np_m2 <span style="color:#f92672">-</span> machine_II)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">.</span>sum(), <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>SSE3 <span style="color:#f92672">=</span> round(((np_m3 <span style="color:#f92672">-</span> machine_III)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">.</span>sum(), <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 5.2 17.71 7.33</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>total_SSE <span style="color:#f92672">=</span> sum([SSE1, SSE2, SSE3])
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 30.24</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>MSE <span style="color:#f92672">=</span> total_SSB <span style="color:#f92672">/</span> df2
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2.016</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>F_value <span style="color:#f92672">=</span> MSE <span style="color:#f92672">/</span> MSB
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 11.06</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># for alpha = 0.5 - http://www.socr.ucla.edu/applets.dir/f_table.html#FTable0.05</span>
</span></span><span style="display:flex;"><span>null_hypothesis_true <span style="color:#f92672">=</span> f_value <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">3.68</span></span></span></code></pre></div></p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>| source | SS     | DF | MS     | F     |
</span></span><span style="display:flex;"><span>| ------ | ------ | -- | ------ | ----- |
</span></span><span style="display:flex;"><span>| factor | 44.60  | 2  | 22.30  | 11.06 |
</span></span><span style="display:flex;"><span>| error  | 30.24  | 15 | 2.01   |       |
</span></span><span style="display:flex;"><span>| total  | 74.84  | 17 |        |       |</span></span></code></pre></div></p>
</div>
</div>
</div>
</div>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/2017/" title="2017"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/2017/0701/" title="Probability" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1755000228"></script>
    <script src="/js/perfect-scrollbar.min.js?1755000228"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1755000228"></script>
    <script src="/js/jquery.sticky.js?1755000228"></script>
    <script src="/js/featherlight.min.js?1755000228"></script>
    <script src="/js/highlight.pack.js?1755000228"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1755000228"></script>
    <script src="/js/learn.js?1755000228"></script>
    <script src="/js/hugo-learn.js?1755000228"></script>
    
        
            <script src="/mermaid/mermaid.js?1755000228"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

