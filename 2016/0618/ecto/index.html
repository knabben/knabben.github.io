<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.113.0">
    <meta name="description" content="">


    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Ecto vs. Django ORM :: compulsory thinking</title>

    
    <link href="/css/nucleus.css?1755015469" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1755015469" rel="stylesheet">
    <link href="/css/hybrid.css?1755015469" rel="stylesheet">
    <link href="/css/featherlight.min.css?1755015469" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1755015469" rel="stylesheet">
    <link href="/css/auto-complete.css?1755015469" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1755015469" rel="stylesheet">
    <link href="/css/theme.css?1755015469" rel="stylesheet">
    <link href="/css/tabs.css?1755015469" rel="stylesheet">
    <link href="/css/hugo-theme.css?1755015469" rel="stylesheet">
    
    <link href="/css/theme-blue.css?1755015469" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1755015469"></script>
      
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SXHZPRXGDZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-SXHZPRXGDZ');
    </script>
    <script>
    if (location.host.indexOf("localhost") < 0 && location.protocol !== "https:") {
      location.protocol = "https:";
    }
    </script>
    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/2016/0618/ecto/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href='/'>
  עֹז
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1755015469"></script>
<script type="text/javascript" src="/js/auto-complete.js?1755015469"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/opssec.in\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1755015469"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/2025/" title="2025" class="dd-item
        
        
        
        ">
      <a href="/2025/">
          2025
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/2025/0812/" title="Embracing Vibe Ops: AI-Driven Troubleshooting for ClusterAPI" class="dd-item
        
        
        
        ">
      <a href="/2025/0812/">
          Embracing Vibe Ops: AI-Driven Troubleshooting for ClusterAPI
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2024/" title="2024" class="dd-item
        
        
        
        ">
      <a href="/2024/">
          2024
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/2024/0201/" title="Kubernetes vSphere CSI on Windows" class="dd-item
        
        
        
        ">
      <a href="/2024/0201/">
          Kubernetes vSphere CSI on Windows
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2024/0104/" title="Kubernetes Windows Nodes" class="dd-item
        
        
        
        ">
      <a href="/2024/0104/">
          Kubernetes Windows Nodes
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2023/" title="2023" class="dd-item
        
        
        
        ">
      <a href="/2023/">
          2023
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/2023/1230/" title="Running Windows cluster locally" class="dd-item
        
        
        
        ">
      <a href="/2023/1230/">
          Running Windows cluster locally
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0801/" title="sigstore policy-controller validation" class="dd-item
        
        
        
        ">
      <a href="/2023/0801/">
          sigstore policy-controller validation
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0721/" title="Ztunnel SPIRE implementation" class="dd-item
        
        
        
        ">
      <a href="/2023/0721/">
          Ztunnel SPIRE implementation
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0702/" title="Waypoint Proxy for the app layer" class="dd-item
        
        
        
        ">
      <a href="/2023/0702/">
          Waypoint Proxy for the app layer
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0630/" title="Ztunnel on Ambient Mesh" class="dd-item
        
        
        
        ">
      <a href="/2023/0630/">
          Ztunnel on Ambient Mesh
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0628/" title="Istio CNI on Ambient Mesh" class="dd-item
        
        
        
        ">
      <a href="/2023/0628/">
          Istio CNI on Ambient Mesh
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0622/" title="Istio Ambient Service Mesh Demo" class="dd-item
        
        
        
        ">
      <a href="/2023/0622/">
          Istio Ambient Service Mesh Demo
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0611/" title="SPIFFE/SPIRE for gRPC authz" class="dd-item
        
        
        
        ">
      <a href="/2023/0611/">
          SPIFFE/SPIRE for gRPC authz
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0608/" title="Secure gRPC services with mTLS" class="dd-item
        
        
        
        ">
      <a href="/2023/0608/">
          Secure gRPC services with mTLS
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0406/" title="Windows CNI tracing and deep dive" class="dd-item
        
        
        
        ">
      <a href="/2023/0406/">
          Windows CNI tracing and deep dive
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0330/" title="Windows Containers and .NET apps" class="dd-item
        
        
        
        ">
      <a href="/2023/0330/">
          Windows Containers and .NET apps
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2023/0322/" title="Multi AZ on Kubernetes and vSphere" class="dd-item
        
        
        
        ">
      <a href="/2023/0322/">
          Multi AZ on Kubernetes and vSphere
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2022/" title="2022" class="dd-item
        
        
        
        ">
      <a href="/2022/">
          2022
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/2022/0712/" title="Hybrid nodes with ClusterClass on Amazon Web Service" class="dd-item
        
        
        
        ">
      <a href="/2022/0712/">
          Hybrid nodes with ClusterClass on Amazon Web Service
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2022/0610/" title="Border Gateway Protocol (BGP) and Kubernetes" class="dd-item
        
        
        
        ">
      <a href="/2022/0610/">
          Border Gateway Protocol (BGP) and Kubernetes
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2022/0320/" title="Cluster API Provider for Azure" class="dd-item
        
        
        
        ">
      <a href="/2022/0320/">
          Cluster API Provider for Azure
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2022/0122/" title="Kube-Proxy Next Gen Windows Userspace" class="dd-item
        
        
        
        ">
      <a href="/2022/0122/">
          Kube-Proxy Next Gen Windows Userspace
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2021/" title="2021" class="dd-item
        
        
        
        ">
      <a href="/2021/">
          2021
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/2021/1218/" title="Kube-proxy Windows Kernelspace Mode" class="dd-item
        
        
        
        ">
      <a href="/2021/1218/">
          Kube-proxy Windows Kernelspace Mode
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/1127/" title="Kube-proxy Linux Userspace Mode" class="dd-item
        
        
        
        ">
      <a href="/2021/1127/">
          Kube-proxy Linux Userspace Mode
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/1017/" title="Kube-proxy Winuserspace Mode" class="dd-item
        
        
        
        ">
      <a href="/2021/1017/">
          Kube-proxy Winuserspace Mode
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/0903/" title="Windows and Calico overlay networking" class="dd-item
        
        
        
        ">
      <a href="/2021/0903/">
          Windows and Calico overlay networking
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/0828/" title="CNI plugins and kindnet" class="dd-item
        
        
        
        ">
      <a href="/2021/0828/">
          CNI plugins and kindnet
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/0614/" title="Kube-proxy ClusterIP" class="dd-item
        
        
        
        ">
      <a href="/2021/0614/">
          Kube-proxy ClusterIP
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2021/0228/" title="Kubernetes Windows Nodes" class="dd-item
        
        
        
        ">
      <a href="/2021/0228/">
          Kubernetes Windows Nodes
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2020/" title="2020" class="dd-item
        
        
        
        ">
      <a href="/2020/">
          2020
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2020/1227/" title="Network Policy E2E test suite" class="dd-item ">
        <a href="/2020/1227/">
        Network Policy E2E test suite
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2020/2405/" title="Kubelet Dynamic Configuration" class="dd-item ">
        <a href="/2020/2405/">
        Kubelet Dynamic Configuration
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2020/1005/" title="Kubelet Debugging Session" class="dd-item ">
        <a href="/2020/1005/">
        Kubelet Debugging Session
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2019/" title="2019" class="dd-item
        
        
        
        ">
      <a href="/2019/">
          2019
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2019/1228/" title="Kubernetes Networking 101" class="dd-item ">
        <a href="/2019/1228/">
        Kubernetes Networking 101
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/12282/" title="Kubernetes Deployment Workloads" class="dd-item ">
        <a href="/2019/12282/">
        Kubernetes Deployment Workloads
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/12283/" title="Kubernetes Container API" class="dd-item ">
        <a href="/2019/12283/">
        Kubernetes Container API
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1227/" title="Pod specification" class="dd-item ">
        <a href="/2019/1227/">
        Pod specification
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1226/" title="Kubectl Walkthrough" class="dd-item ">
        <a href="/2019/1226/">
        Kubectl Walkthrough
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1225/" title="Kubernetes in Docker" class="dd-item ">
        <a href="/2019/1225/">
        Kubernetes in Docker
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1215/" title="Sawtooth Cheatsheet" class="dd-item ">
        <a href="/2019/1215/">
        Sawtooth Cheatsheet
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1208/" title="Sawtooth Permissioning" class="dd-item ">
        <a href="/2019/1208/">
        Sawtooth Permissioning
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1127/" title="Kubernetes Audit Sink" class="dd-item ">
        <a href="/2019/1127/">
        Kubernetes Audit Sink
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1123/" title="Kubernetes API client" class="dd-item ">
        <a href="/2019/1123/">
        Kubernetes API client
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/11161/dev-poet/" title="From Dev to PoET" class="dd-item ">
        <a href="/2019/11161/dev-poet/">
        From Dev to PoET
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1116/" title="Sawtooth Network Monitoring" class="dd-item ">
        <a href="/2019/1116/">
        Sawtooth Network Monitoring
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2019/1111/" title="Gossip networks" class="dd-item ">
        <a href="/2019/1111/">
        Gossip networks
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2018/" title="2018" class="dd-item
        
        
        
        ">
      <a href="/2018/">
          2018
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2018/08072/" title="Golang essays (part II)" class="dd-item ">
        <a href="/2018/08072/">
        Golang essays (part II)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0807/" title="Golang essays (part I)" class="dd-item ">
        <a href="/2018/0807/">
        Golang essays (part I)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0704/langs2/" title="Rust 101" class="dd-item ">
        <a href="/2018/0704/langs2/">
        Rust 101
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0602/sawtooth/" title="Hyperledger Sawtooth" class="dd-item ">
        <a href="/2018/0602/sawtooth/">
        Hyperledger Sawtooth
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0527/langs1/" title="Bootstraping languages" class="dd-item ">
        <a href="/2018/0527/langs1/">
        Bootstraping languages
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0806/" title="Service Mesh" class="dd-item ">
        <a href="/2018/0806/">
        Service Mesh
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2018/0325/" title="Technical indicators" class="dd-item ">
        <a href="/2018/0325/">
        Technical indicators
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2017/" title="2017" class="dd-item
        
        
        
        ">
      <a href="/2017/">
          2017
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2017/1012/" title="More statistics and Python" class="dd-item ">
        <a href="/2017/1012/">
        More statistics and Python
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2017/0701/" title="Probability" class="dd-item ">
        <a href="/2017/0701/">
        Probability
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2017/0625/" title="Statistics and Python" class="dd-item ">
        <a href="/2017/0625/">
        Statistics and Python
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2016/" title="2016" class="dd-item
        parent
        
        
        ">
      <a href="/2016/">
          2016
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2016/1216/apk/" title="Android APK hacking" class="dd-item ">
        <a href="/2016/1216/apk/">
        Android APK hacking
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2016/1127/" title="Continuous Deployment and DEIS" class="dd-item ">
        <a href="/2016/1127/">
        Continuous Deployment and DEIS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2016/0618/ecto/" title="Ecto vs. Django ORM" class="dd-item active">
        <a href="/2016/0618/ecto/">
        Ecto vs. Django ORM
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2016/0416/cpython/" title="CPython Debugging" class="dd-item ">
        <a href="/2016/0416/cpython/">
        CPython Debugging
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2016/0123/" title="Golang vs. Python" class="dd-item ">
        <a href="/2016/0123/">
        Golang vs. Python
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2016/0116/" title="Monitoring MySQL w/ Prometheus" class="dd-item ">
        <a href="/2016/0116/">
        Monitoring MySQL w/ Prometheus
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2015/" title="2015" class="dd-item
        
        
        
        ">
      <a href="/2015/">
          2015
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/2015/0309/consul/" title="Consul - Service Discovery" class="dd-item ">
        <a href="/2015/0309/consul/">
        Consul - Service Discovery
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2015/0908/finance/" title="General finance formulas" class="dd-item ">
        <a href="/2015/0908/finance/">
        General finance formulas
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2015/2607/" title="Tsung Capacity Test" class="dd-item ">
        <a href="/2015/2607/">
        Tsung Capacity Test
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <center>
  <p><b>Amim Knabben</b> - 2025</p>
    amim.knabben@gmail.com
  <br/>
  <a href="https://github.com/knabben"><i class="fab fa-github"></i></a>
  <a href="https://twitter.com/ak_ndb"><i class="fab fa-twitter"></i></a>
  <a href="https://linkedin.com/in/amim"><i class="fab fa-linkedin"></i></a>
</center>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'></a> > <a href='/2016/'>2016</a> > Ecto vs. Django ORM
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li><a href="#headline-1">Introduction</a>
</li>
<li><a href="#headline-2">Connection and database initialization</a>
<ul>
<li><a href="#headline-3">Django</a>
</li>
<li><a href="#headline-4">Ecto</a>
</li>
</ul>
</li>
<li><a href="#headline-5">The first model</a>
<ul>
<li><a href="#headline-6">Django</a>
</li>
<li><a href="#headline-7">Ecto</a>
</li>
</ul>
</li>
<li><a href="#headline-8">Insert and get data</a>
<ul>
<li><a href="#headline-9">Django</a>
</li>
<li><a href="#headline-10">Ecto</a>
</li>
</ul>
</li>
<li><a href="#headline-11">Conclusion</a>
</li>
<li><a href="#headline-12">Biliography</a>
<ul>
<li><a href="#headline-13">[1] http://www.phoenixframework.org</a>
</li>
<li><a href="#headline-14">[2] https://www.djangoproject.com/</a>
</li>
<li><a href="#headline-15">[3] https://code.djangoproject.com/ticket/10060</a>
</li>
<li><a href="#headline-16">[4] http://jinzhu.me/gorm/</a>
</li>
</ul>
</li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Ecto vs. Django ORM
            </h1>
          

        



<div id="outline-container-headline-1" class="outline-3">
<h3 id="headline-1">
Introduction
</h3>
<div id="outline-text-headline-1" class="outline-text-3">
<p>
Django [1] is awesome, it applies a lot of design patterns in different layers. First of you have the model layer, or the abstraction layer (models), you can define models that maps to the tables of your database. We are going to see some features that the Django ORM offers.</p>
<p>
On the other side, Phoenix Framework [2] is a web framework written in Elixir, it applies the MVC pattern too, and have Ecto as a &#34;language integrated query composition tool&#34; and a database wrapper. There is nothing really new on this post blog, is just a basic scaffold of how to use some functionalities of each project, you can find more on both projects documentation.</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-3">
<h3 id="headline-2">
Connection and database initialization
</h3>
<div id="outline-text-headline-2" class="outline-text-3">
<div id="outline-container-headline-3" class="outline-4">
<h4 id="headline-3">
Django
</h4>
<div id="outline-text-headline-3" class="outline-text-4">
<p>
To start a new app create a virtualenv and install django:</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ workon app
</span></span><span style="display:flex;"><span>app$ pip install django
</span></span><span style="display:flex;"><span>app$ django-admin startproject app ; cd app</span></span></code></pre></div></p>
<p>
Configure the database on app/settings.py:</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>DATABASES <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;default&#39;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;ENGINE&#39;</span>: <span style="color:#e6db74">&#39;django.db.backends.postgresql_psycopg2&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;NAME&#39;</span>: <span style="color:#e6db74">&#39;django&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;HOST&#39;</span>: <span style="color:#e6db74">&#39;192.168.0.4&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;USER&#39;</span>: <span style="color:#e6db74">&#39;django&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;PASSWORD&#39;</span>: <span style="color:#e6db74">&#39;django&#39;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></p>
<p>
Sync your database with the models (you dont have any for now):</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ python manage.py syncdb
</span></span><span style="display:flex;"><span>Operations to perform:
</span></span><span style="display:flex;"><span>  Apply all migrations: admin, contenttypes, auth, sessions
</span></span><span style="display:flex;"><span>Running migrations:
</span></span><span style="display:flex;"><span>  Applying contenttypes.0001_initial... OK
</span></span><span style="display:flex;"><span>  Applying auth.0001_initial... OK
</span></span><span style="display:flex;"><span>  Applying admin.0001_initial... OK
</span></span><span style="display:flex;"><span>  Applying sessions.0001_initial... OK
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>You have installed Django<span style="color:#e6db74">&#39;s auth system, and don&#39;</span>t have any superusers defined.
</span></span><span style="display:flex;"><span>Would you like to create one now? <span style="color:#f92672">(</span>yes/no<span style="color:#f92672">)</span>: yes
</span></span><span style="display:flex;"><span>Username <span style="color:#f92672">(</span>leave blank to use <span style="color:#e6db74">&#39;ndb&#39;</span><span style="color:#f92672">)</span>: ndb
</span></span><span style="display:flex;"><span>Email address: ndb@ndb.com
</span></span><span style="display:flex;"><span>Password:
</span></span><span style="display:flex;"><span>Password <span style="color:#f92672">(</span>again<span style="color:#f92672">)</span>:
</span></span><span style="display:flex;"><span>Superuser created successfully.</span></span></code></pre></div></p>
<p>
Django creates 10 tables, it contains auth_user/auth_group for authentication, django_session and django_migrations.</p>
</div>
</div>
<div id="outline-container-headline-4" class="outline-4">
<h4 id="headline-4">
Ecto
</h4>
<div id="outline-text-headline-4" class="outline-text-4">
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ mix phoenix.new app2</span></span></code></pre></div></p>
<p>
Open the config/dev.exs</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elixir" data-lang="elixir"><span style="display:flex;"><span><span style="color:#75715e"># Configure your database</span>
</span></span><span style="display:flex;"><span>config <span style="color:#e6db74">:app2</span>, <span style="color:#a6e22e">App2.Repo</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">adapter</span>: <span style="color:#a6e22e">Ecto.Adapters.Postgres</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">username</span>: <span style="color:#e6db74">&#34;elixir&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">password</span>: <span style="color:#e6db74">&#34;elixir&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">database</span>: <span style="color:#e6db74">&#34;app2_dev&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">hostname</span>: <span style="color:#e6db74">&#34;192.168.0.4&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">pool_size</span>: <span style="color:#ae81ff">10</span></span></span></code></pre></div></p>
<p>
Create the database, there&#39;s no default databases:</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ mix ecto.create</span></span></code></pre></div></p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-5" class="outline-3">
<h3 id="headline-5">
The first model
</h3>
<div id="outline-text-headline-5" class="outline-text-3">
<div id="outline-container-headline-6" class="outline-4">
<h4 id="headline-6">
Django
</h4>
<div id="outline-text-headline-6" class="outline-text-4">
<p>
We are going to create two simple tables via the ORM, with a very whacky example: Album and Music</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ django-admin startapp recorder</span></span></code></pre></div></p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>app<span style="color:#f92672">/</span>settings<span style="color:#f92672">.</span>py:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>INSTALLED_APPS <span style="color:#f92672">=</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;recorder&#39;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app<span style="color:#f92672">/</span>recorder<span style="color:#f92672">/</span>models<span style="color:#f92672">.</span>py:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.db <span style="color:#f92672">import</span> models
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Album</span>(models<span style="color:#f92672">.</span>Model):
</span></span><span style="display:flex;"><span>    name <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>    producer <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Music</span>(models<span style="color:#f92672">.</span>Model):
</span></span><span style="display:flex;"><span>    album <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>ForeignKey(Album)
</span></span><span style="display:flex;"><span>    name <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">200</span>)</span></span></code></pre></div></p>
<p>
The next step is to create a migration and create the tables on database, Django have some very cool tools to make it:</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># Create migrate file</span>
</span></span><span style="display:flex;"><span>$ django-admin makemigrations
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Migrations <span style="color:#66d9ef">for</span> <span style="color:#e6db74">&#39;recorder&#39;</span>:
</span></span><span style="display:flex;"><span>  0001_initial.py:
</span></span><span style="display:flex;"><span>    - Create model Album
</span></span><span style="display:flex;"><span>    - Create model Music
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># List migrations</span>
</span></span><span style="display:flex;"><span>$ django-admin migrate -l
</span></span><span style="display:flex;"><span>recorder
</span></span><span style="display:flex;"><span> <span style="color:#f92672">[</span> <span style="color:#f92672">]</span> 0001_initial
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Print SQL data</span>
</span></span><span style="display:flex;"><span>$ django-admin sqlmigrate recorder 0001_initial
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>BEGIN;
</span></span><span style="display:flex;"><span>CREATE TABLE <span style="color:#e6db74">&#34;recorder_album&#34;</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;id&#34;</span> serial NOT NULL PRIMARY KEY, <span style="color:#e6db74">&#34;name&#34;</span> varchar<span style="color:#f92672">(</span>100<span style="color:#f92672">)</span> NOT NULL, <span style="color:#e6db74">&#34;producer&#34;</span> varchar<span style="color:#f92672">(</span>100<span style="color:#f92672">)</span> NOT NULL<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>CREATE TABLE <span style="color:#e6db74">&#34;recorder_music&#34;</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;id&#34;</span> serial NOT NULL PRIMARY KEY, <span style="color:#e6db74">&#34;name&#34;</span> varchar<span style="color:#f92672">(</span>200<span style="color:#f92672">)</span> NOT NULL, <span style="color:#e6db74">&#34;album_id&#34;</span> integer NOT NULL<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>ALTER TABLE <span style="color:#e6db74">&#34;recorder_music&#34;</span> ADD CONSTRAINT <span style="color:#e6db74">&#34;recorder_music_album_id_511dc046afa6a74a_fk_recorder_album_id&#34;</span> FOREIGN KEY <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;album_id&#34;</span><span style="color:#f92672">)</span> REFERENCES <span style="color:#e6db74">&#34;recorder_album&#34;</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">)</span> DEFERRABLE INITIALLY DEFERRED;
</span></span><span style="display:flex;"><span>CREATE INDEX <span style="color:#e6db74">&#34;recorder_music_95c3b9df&#34;</span> ON <span style="color:#e6db74">&#34;recorder_music&#34;</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;album_id&#34;</span><span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Apply the migrations (run SQL)</span>
</span></span><span style="display:flex;"><span>$ django-admin migrate</span></span></code></pre></div></p>
</div>
</div>
<div id="outline-container-headline-7" class="outline-4">
<h4 id="headline-7">
Ecto
</h4>
<div id="outline-text-headline-7" class="outline-text-4">
<p>
With Ecto we create the models via command line, we can generate CRUD templates and controllers with phoenix.gen.html, but for new lets analyse the models:</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ mix phoenix.gen.model Album album name:string producer:string
</span></span><span style="display:flex;"><span>* creating web/models/album.ex
</span></span><span style="display:flex;"><span>* creating test/models/album_test.exs
</span></span><span style="display:flex;"><span>* creating priv/repo/migrations/20160618120835_create_album.exs
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Remember to update your repository by running migrations:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    $ mix ecto.migrate
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ mix phoenix.gen.model Music music name:string album_id:references:album
</span></span><span style="display:flex;"><span>* creating web/models/music.ex
</span></span><span style="display:flex;"><span>* creating test/models/music_test.exs
</span></span><span style="display:flex;"><span>* creating priv/repo/migrations/20160618120923_create_music.exs
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Remember to update your repository by running migrations:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    $ mix ecto.migrate</span></span></code></pre></div></p>
<p>
As you can see phoenix created the models, a unit test file and a migration file, it created a schema_migration tables to hold this difference either.</p>
<p>
We have created a one-to-one relationship, so you can see a belongs_to.</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elixir" data-lang="elixir"><span style="display:flex;"><span><span style="color:#66d9ef">defmodule</span> <span style="color:#a6e22e">App2.Music</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">use</span> <span style="color:#a6e22e">App2.Web</span>, <span style="color:#e6db74">:model</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  schema <span style="color:#e6db74">&#34;music&#34;</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>    field <span style="color:#e6db74">:name</span>, <span style="color:#e6db74">:string</span>
</span></span><span style="display:flex;"><span>    belongs_to <span style="color:#e6db74">:album</span>, <span style="color:#a6e22e">App2.Album</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    timestamps
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span></span></span></code></pre></div></p>
<p>
Run your migrate command to create the tables on the database, there&#39;s lots of boilerplate code :</p>
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ mix ecto.migrate
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>11:37:34.299 <span style="color:#f92672">[</span>info<span style="color:#f92672">]</span>  <span style="color:#f92672">==</span> Running App2.Repo.Migrations.CreateMusic.change/0 forward
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>11:37:34.299 <span style="color:#f92672">[</span>info<span style="color:#f92672">]</span>  create table music
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>11:37:34.444 <span style="color:#f92672">[</span>info<span style="color:#f92672">]</span>  create index music_album_id_index</span></span></code></pre></div></p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-8" class="outline-3">
<h3 id="headline-8">
Insert and get data
</h3>
<div id="outline-text-headline-8" class="outline-text-3">
<p>
Install ipython on your virtualenv and give a try:</p>
<div id="outline-container-headline-9" class="outline-4">
<h4 id="headline-9">
Django
</h4>
<div id="outline-text-headline-9" class="outline-text-4">
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$</span> django<span style="color:#f92672">-</span>admin shell
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#ae81ff">3</span>]: <span style="color:#f92672">from</span> recorder.models <span style="color:#f92672">import</span> Album
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Basic insert</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#ae81ff">4</span>]: album1 <span style="color:#f92672">=</span> Album<span style="color:#f92672">.</span>objects<span style="color:#f92672">.</span>create(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;new_album&#34;</span>, producer<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;old_prod&#34;</span>)
</span></span><span style="display:flex;"><span>Out[<span style="color:#ae81ff">4</span>]: <span style="color:#f92672">&lt;</span>Album: Album object<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Fetch all</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#ae81ff">5</span>]: map(<span style="color:#66d9ef">lambda</span> x: x<span style="color:#f92672">.</span>name, Album<span style="color:#f92672">.</span>objects<span style="color:#f92672">.</span>all())
</span></span><span style="display:flex;"><span>Out[<span style="color:#ae81ff">5</span>]: [<span style="color:#e6db74">&#39;new_album&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create with one-to-one relationship</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#ae81ff">6</span>]: music1 <span style="color:#f92672">=</span> Music<span style="color:#f92672">.</span>objects<span style="color:#f92672">.</span>create(album<span style="color:#f92672">=</span>album1, name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;new_music&#34;</span>)
</span></span><span style="display:flex;"><span>Out[<span style="color:#ae81ff">6</span>]: <span style="color:#f92672">&lt;</span>Music: Music object<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Filter by LIKE</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In[<span style="color:#ae81ff">7</span>]: music2 <span style="color:#f92672">=</span> Music<span style="color:#f92672">.</span>objects<span style="color:#f92672">.</span>filter(name__contains<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;new&#39;</span>)<span style="color:#f92672">.</span>order_by(<span style="color:#e6db74">&#39;id&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># SELECT &#34;recorder_music&#34;.&#34;id&#34;, &#34;recorder_music&#34;.&#34;album_id&#34;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#        &#34;recorder_music&#34;.&#34;name&#34; FROM &#34;recorder_music&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># WHERE UPPER(&#34;recorder_music&#34;.&#34;name&#34;::text)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># LIKE UPPER(&#39;%new%&#39;) ORDER BY &#34;recorder_music&#34;.&#34;id&#34; ASC LIMIT 21</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Fetch related data with default INNER JOIN</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In[<span style="color:#ae81ff">8</span>]: music3 <span style="color:#f92672">=</span> Music<span style="color:#f92672">.</span>objects<span style="color:#f92672">.</span>select_related(<span style="color:#e6db74">&#39;album&#39;</span>)<span style="color:#f92672">.</span>get(pk<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">.</span>name
</span></span><span style="display:flex;"><span><span style="color:#75715e"># SELECT &#34;recorder_music&#34;.&#34;id&#34;, &#34;recorder_music&#34;.&#34;album_id&#34;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#        &#34;recorder_music&#34;.&#34;name&#34;, &#34;recorder_album&#34;.&#34;id&#34;,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#        &#34;recorder_album&#34;.&#34;name&#34;, &#34;recorder_album&#34;.&#34;producer&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># FROM &#34;recorder_music&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># INNER JOIN &#34;recorder_album&#34; ON ( &#34;recorder_music&#34;.&#34;album_id&#34; = &#34;recorder_album&#34;.&#34;id&#34; )</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ORDER BY &#34;recorder_music&#34;.&#34;id&#34; ASC LIMIT 1</span></span></span></code></pre></div></p>
</div>
</div>
<div id="outline-container-headline-10" class="outline-4">
<h4 id="headline-10">
Ecto
</h4>
<div id="outline-text-headline-10" class="outline-text-4">
<p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elixir" data-lang="elixir"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$</span> iex <span style="color:#f92672">-</span><span style="color:#a6e22e">S</span> mix
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Basic insert</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>iex(<span style="color:#ae81ff">1</span>)<span style="color:#f92672">&gt;</span> album1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">App2.Repo</span><span style="color:#f92672">.</span>insert!(%<span style="color:#a6e22e">App2.Album</span>{<span style="color:#e6db74">name</span>: <span style="color:#e6db74">&#34;new_album&#34;</span>, <span style="color:#e6db74">producer</span>: <span style="color:#e6db74">&#34;old_prod&#34;</span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Fetch all</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>iex(<span style="color:#ae81ff">2</span>)<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">App2.Album.Repo.All</span>(<span style="color:#a6e22e">App3.Album</span>) <span style="color:#f92672">|&gt;</span> <span style="color:#a6e22e">Enum</span><span style="color:#f92672">.</span>map(<span style="color:#66d9ef">fn</span>(x) <span style="color:#f92672">-&gt;</span> x<span style="color:#f92672">.</span>name <span style="color:#66d9ef">end</span>)
</span></span><span style="display:flex;"><span>[<span style="color:#e6db74">&#34;new_album&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create with one-to-one relationship</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>iex(<span style="color:#ae81ff">3</span>)<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">App2.Repo</span><span style="color:#f92672">.</span>insert!(%<span style="color:#a6e22e">App3.Music</span>{<span style="color:#e6db74">album_id</span>: album1<span style="color:#f92672">.</span>id, <span style="color:#e6db74">name</span>: <span style="color:#e6db74">&#34;new_album&#34;</span>})
</span></span><span style="display:flex;"><span><span style="color:#75715e"># INSERT INTO &#34;music&#34; (&#34;inserted_at&#34;, &#34;updated_at&#34;, &#34;album_id&#34;, &#34;name&#34;) VALUES ($1, $2, $3, $4)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Filter by LIKE</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>iex(<span style="color:#ae81ff">4</span>)<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">App2.Repo</span><span style="color:#f92672">.</span>all(from p <span style="color:#f92672">in</span> <span style="color:#a6e22e">App2.Album</span>, <span style="color:#e6db74">where</span>: like(p<span style="color:#f92672">.</span>name, <span style="color:#e6db74">~s&#39;%new%&#39;</span>) , <span style="color:#e6db74">select</span>: p, <span style="color:#e6db74">order_by</span>: p<span style="color:#f92672">.</span>id)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># SELECT a0.&#34;id&#34;, a0.&#34;name&#34;, a0.&#34;producer&#34;, a0.&#34;inserted_at&#34;, a0.&#34;updated_at&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># FROM &#34;album&#34; AS a0 WHERE (a0.&#34;name&#34; LIKE &#39;%new%&#39;) ORDER BY a0.&#34;id&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Fetch related data</span>
</span></span><span style="display:flex;"><span>iex(<span style="color:#ae81ff">5</span>)<span style="color:#f92672">&gt;</span> music2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">App2.Repo</span><span style="color:#f92672">.</span>get <span style="color:#a6e22e">Music</span>, <span style="color:#ae81ff">1</span> <span style="color:#f92672">|&gt;</span> <span style="color:#a6e22e">App2.Repo</span><span style="color:#f92672">.</span>preload(<span style="color:#e6db74">:album</span>)
</span></span><span style="display:flex;"><span>iex(<span style="color:#ae81ff">6</span>)<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">IO</span><span style="color:#f92672">.</span>puts music2<span style="color:#f92672">.</span>album<span style="color:#f92672">.</span>name
</span></span><span style="display:flex;"><span><span style="color:#75715e"># SELECT m0.&#34;id&#34;, m0.&#34;name&#34;, m0.&#34;album_id&#34;, m0.&#34;inserted_at&#34;, m0.&#34;updated_at&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># FROM &#34;music&#34; AS m0 WHERE (m0.&#34;id&#34; = $1)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># SELECT a0.&#34;id&#34;, a0.&#34;name&#34;, a0.&#34;producer&#34;, a0.&#34;inserted_at&#34;, a0.&#34;updated_at&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># FROM &#34;album&#34; AS a0 WHERE (a0.&#34;id&#34; IN ($1))</span></span></span></code></pre></div></p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-11" class="outline-3">
<h3 id="headline-11">
Conclusion
</h3>
<div id="outline-text-headline-11" class="outline-text-3">
<p>
Python have a very strong codebase for  ORMs, see Django ORM and SQLAlchemy, but is very interesting see how new languages are solving the ORM situation and how they are evolving.</p>
<p>
It can take time to develop the same cool features that old projects have, but the community of Elixir is getting bigger and bigger. As a counterpart complex problems take time to get in shape, and some of them can stay without a solution after a long time. [3]</p>
<p>
The subject is very complex, and again, cool to see projects like Ecto or Gorm [4] getting traction. Keep an eye on it and help as you can!</p>
</div>
</div>
<div id="outline-container-headline-12" class="outline-3">
<h3 id="headline-12">
Biliography
</h3>
<div id="outline-text-headline-12" class="outline-text-3">
<div id="outline-container-headline-13" class="outline-5">
<h5 id="headline-13">
[1] <a href="http://www.phoenixframework.org">http://www.phoenixframework.org</a>
</h5>
</div>
<div id="outline-container-headline-14" class="outline-5">
<h5 id="headline-14">
[2] <a href="https://www.djangoproject.com/">https://www.djangoproject.com/</a>
</h5>
</div>
<div id="outline-container-headline-15" class="outline-5">
<h5 id="headline-15">
[3] <a href="https://code.djangoproject.com/ticket/10060">https://code.djangoproject.com/ticket/10060</a>
</h5>
</div>
<div id="outline-container-headline-16" class="outline-5">
<h5 id="headline-16">
[4] <a href="http://jinzhu.me/gorm/">http://jinzhu.me/gorm/</a>
</h5>
</div>
</div>
</div>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/2016/1127/" title="Continuous Deployment and DEIS"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/2016/0416/cpython/" title="CPython Debugging" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1755015469"></script>
    <script src="/js/perfect-scrollbar.min.js?1755015469"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1755015469"></script>
    <script src="/js/jquery.sticky.js?1755015469"></script>
    <script src="/js/featherlight.min.js?1755015469"></script>
    <script src="/js/highlight.pack.js?1755015469"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1755015469"></script>
    <script src="/js/learn.js?1755015469"></script>
    <script src="/js/hugo-learn.js?1755015469"></script>
    
        
            <script src="/mermaid/mermaid.js?1755015469"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

